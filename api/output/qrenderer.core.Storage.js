Ext.data.JsonP.qrenderer_core_Storage({"tagname":"class","name":"qrenderer.core.Storage","autodetected":{},"files":[{"filename":"Storage.js","href":"Storage.html#qrenderer-core-Storage"}],"docauthor":[{"tagname":"docauthor","name":"大漠穷秋 damoqiongqiu@126.com","email":null}],"members":[{"name":"_displayList","tagname":"property","owner":"qrenderer.core.Storage","id":"property-_displayList","meta":{"private":true}},{"name":"_displayListLen","tagname":"property","owner":"qrenderer.core.Storage","id":"property-_displayListLen","meta":{"private":true}},{"name":"_roots","tagname":"property","owner":"qrenderer.core.Storage","id":"property-_roots","meta":{"private":true}},{"name":"constructor","tagname":"method","owner":"qrenderer.core.Storage","id":"method-constructor","meta":{}},{"name":"_updateAndAddDisplayable","tagname":"method","owner":"qrenderer.core.Storage","id":"method-_updateAndAddDisplayable","meta":{}},{"name":"addToRoot","tagname":"method","owner":"qrenderer.core.Storage","id":"method-addToRoot","meta":{}},{"name":"addToStorage","tagname":"method","owner":"qrenderer.core.Storage","id":"method-addToStorage","meta":{"chainable":true}},{"name":"delFromRoot","tagname":"method","owner":"qrenderer.core.Storage","id":"method-delFromRoot","meta":{}},{"name":"delFromStorage","tagname":"method","owner":"qrenderer.core.Storage","id":"method-delFromStorage","meta":{"chainable":true}},{"name":"dispose","tagname":"method","owner":"qrenderer.core.Storage","id":"method-dispose","meta":{}},{"name":"getDisplayList","tagname":"method","owner":"qrenderer.core.Storage","id":"method-getDisplayList","meta":{}},{"name":"traverse","tagname":"method","owner":"qrenderer.core.Storage","id":"method-traverse","meta":{}},{"name":"updateDisplayList","tagname":"method","owner":"qrenderer.core.Storage","id":"method-updateDisplayList","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-qrenderer.core.Storage","short_doc":"内容仓库 (M)，用来存储和管理画布上的所有对象，同时提供绘制和更新队列的功能。 ...","component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Files</h4><div class='dependency'><a href='source/Storage.html#qrenderer-core-Storage' target='_blank'>Storage.js</a></div></pre><div class='doc-contents'><p>内容仓库 (M)，用来存储和管理画布上的所有对象，同时提供绘制和更新队列的功能。\n需要绘制的对象首先存储在 Storage 中，然后 Painter 类会从 Storage 中依次取出进行绘图。\n利用 Storage 作为内存中转站，对于不需要刷新的对象可以不进行绘制，从而可以提升整体性能。</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-_displayList' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-property-_displayList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-property-_displayList' class='name expandable'>_displayList</a> : Array<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>[]</code></p></div></div></div><div id='property-_displayListLen' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-property-_displayListLen' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-property-_displayListLen' class='name expandable'>_displayListLen</a> : Number<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>0</code></p></div></div></div><div id='property-_roots' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-property-_roots' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-property-_roots' class='name expandable'>_roots</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>\n</div><div class='long'>\n</div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-constructor' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-constructor' target='_blank' class='view-source'>view source</a></div><strong class='new-keyword'>new</strong><a href='#!/api/qrenderer.core.Storage-method-constructor' class='name expandable'>qrenderer.core.Storage</a>( <span class='pre'></span> ) : <a href=\"#!/api/qrenderer.core.Storage\" rel=\"qrenderer.core.Storage\" class=\"docClass\">qrenderer.core.Storage</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Storage ...</div><div class='long'><p>Storage</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/qrenderer.core.Storage\" rel=\"qrenderer.core.Storage\" class=\"docClass\">qrenderer.core.Storage</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-_updateAndAddDisplayable' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-_updateAndAddDisplayable' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-_updateAndAddDisplayable' class='name expandable'>_updateAndAddDisplayable</a>( <span class='pre'>el, clipPaths, includeIgnore</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>el</span> : *<div class='sub-desc'>\n</div></li><li><span class='pre'>clipPaths</span> : *<div class='sub-desc'>\n</div></li><li><span class='pre'>includeIgnore</span> : *<div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-addToRoot' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-addToRoot' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-addToRoot' class='name expandable'>addToRoot</a>( <span class='pre'>el</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>添加图形(Shape)或者组(Group)到根节点 ...</div><div class='long'><p>添加图形(Shape)或者组(Group)到根节点</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>el</span> : Element<div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-addToStorage' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-addToStorage' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-addToStorage' class='name expandable'>addToStorage</a>( <span class='pre'>el</span> ) : <a href=\"#!/api/qrenderer.core.Storage\" rel=\"qrenderer.core.Storage\" class=\"docClass\">qrenderer.core.Storage</a><span class=\"signature\"><span class='chainable' >chainable</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>el</span> : Element<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/qrenderer.core.Storage\" rel=\"qrenderer.core.Storage\" class=\"docClass\">qrenderer.core.Storage</a></span><div class='sub-desc'><p>this</p>\n</div></li></ul></div></div></div><div id='method-delFromRoot' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-delFromRoot' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-delFromRoot' class='name expandable'>delFromRoot</a>( <span class='pre'>[el]</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>删除指定的图形(Shape)或者组(Group) ...</div><div class='long'><p>删除指定的图形(Shape)或者组(Group)</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>el</span> : string|Array.&lt;String&gt; (optional)<div class='sub-desc'><p>如果为空清空整个Storage</p>\n</div></li></ul></div></div></div><div id='method-delFromStorage' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-delFromStorage' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-delFromStorage' class='name expandable'>delFromStorage</a>( <span class='pre'>el</span> ) : <a href=\"#!/api/qrenderer.core.Storage\" rel=\"qrenderer.core.Storage\" class=\"docClass\">qrenderer.core.Storage</a><span class=\"signature\"><span class='chainable' >chainable</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>el</span> : Element<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/qrenderer.core.Storage\" rel=\"qrenderer.core.Storage\" class=\"docClass\">qrenderer.core.Storage</a></span><div class='sub-desc'><p>this</p>\n</div></li></ul></div></div></div><div id='method-dispose' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-dispose' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-dispose' class='name expandable'>dispose</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>清空并且释放Storage ...</div><div class='long'><p>清空并且释放Storage</p>\n</div></div></div><div id='method-getDisplayList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-getDisplayList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-getDisplayList' class='name expandable'>getDisplayList</a>( <span class='pre'>[needUpdate], [includeIgnore]</span> ) : Array&lt;Displayable&gt;<span class=\"signature\"></span></div><div class='description'><div class='short'>返回所有图形的绘制队列 ...</div><div class='long'><p>返回所有图形的绘制队列</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>needUpdate</span> : boolean (optional)<div class='sub-desc'><p>是否在返回前更新该数组</p>\n<p>Defaults to: <code>false</code></p></div></li><li><span class='pre'>includeIgnore</span> : boolean (optional)<div class='sub-desc'><p>是否包含 ignore 的数组, 在 needUpdate 为 true 的时候有效</p>\n\n<p>详见Displayable.prototype.updateDisplayList</p>\n<p>Defaults to: <code>false</code></p></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Array&lt;Displayable&gt;</span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-traverse' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-traverse' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-traverse' class='name expandable'>traverse</a>( <span class='pre'>cb, context</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>cb</span> : Function<div class='sub-desc'>\n</div></li><li><span class='pre'>context</span> : Object<div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-updateDisplayList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='qrenderer.core.Storage'>qrenderer.core.Storage</span><br/><a href='source/Storage.html#qrenderer-core-Storage-method-updateDisplayList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/qrenderer.core.Storage-method-updateDisplayList' class='name expandable'>updateDisplayList</a>( <span class='pre'>[includeIgnore]</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>更新图形的绘制队列。 ...</div><div class='long'><p>更新图形的绘制队列。\n每次绘制前都会调用，该方法会先深度优先遍历整个树，更新所有Group和Shape的变换并且把所有可见的Shape保存到数组中，\n最后根据绘制的优先级（zlevel > z > 插入顺序）排序得到绘制队列</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>includeIgnore</span> : boolean (optional)<div class='sub-desc'><p>是否包含 ignore 的数组</p>\n<p>Defaults to: <code>false</code></p></div></li></ul></div></div></div></div></div></div></div>","meta":{}});