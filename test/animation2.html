<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Animation2</title>
    <script src="../dist/zrender.js"></script>
</head>
<body>
    <div id="main" style="width:600px;height:400px;"></div>
    <script type="text/javascript">
        // 初始化zrender
        let zr = zrender.init(document.getElementById('main'));

        let polygon = new zrender.Polygon({
            position: [100, 100],
            scale: [1, 1],
            style: {
                fill: 'red'
            }
        });

        setInterval(function () {
            let len = Math.round(Math.random() * 100);
            let points = [];
            let r = (Math.random() * 100);
            for (let i = 0; i <= len; i++) {
                let phi = i / len * Math.PI * 2;
                let x = Math.cos(phi) * r + 500;
                let y = Math.sin(phi) * r + 300;
                points.push([x, y]);
            }
            polygon.animateTo({
                shape: {
                    points: points
                }
            }, 500, 'cubicOut');
        }, 1000);
        zr.add(polygon);
    </script>
</body>
</html>