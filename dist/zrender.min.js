!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.zrender={})}(this,function(t){"use strict";function e(t,e){"createCanvas"===t&&(Rr=null),Or[t]=e}function i(t){if(null==t||"object"!=typeof t)return t;var e=t,n=Ar.call(t);if("[object Array]"===n){if(!O(t)){e=[];for(var r=0,o=t.length;r<o;r++)e[r]=i(t[r])}}else if(Pr[n]){if(!O(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(var r=0,o=t.length;r<o;r++)e[r]=i(t[r])}}}else if(!Cr[n]&&!O(t)&&!M(t)){e={};for(var s in t)t.hasOwnProperty(s)&&(e[s]=i(t[s]))}return e}function n(t,e,r){if(!k(e)||!k(t))return r?i(e):t;for(var o in e)if(e.hasOwnProperty(o)){var a=t[o],s=e[o];!k(s)||!k(a)||v(s)||v(a)||M(s)||M(a)||T(s)||T(a)||O(s)||O(a)?!r&&o in t||(t[o]=i(e[o],!0)):n(a,s,r)}return t}function r(t,e){for(var i=t[0],r=1,o=t.length;r<o;r++)i=n(i,t[r],e);return i}function o(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function s(){return Rr||(Rr=Fr().getContext("2d")),Rr}function h(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function l(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var r in n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e}function u(t,e,i){a(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)}function c(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function f(t,e,i){if(t&&e)if(t.forEach&&t.forEach===zr)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function d(t,e,i){if(t&&e){if(t.map&&t.map===Er)return t.map(e,i);for(var n=[],r=0,o=t.length;r<o;r++)n.push(e.call(i,t[r],r,t));return n}}function p(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===Ir)return t.reduce(e,i,n);for(var r=0,o=t.length;r<o;r++)i=e.call(n,i,t[r],r,t);return i}}function g(t,e,i){if(t&&e){if(t.filter&&t.filter===Br)return t.filter(e,i);for(var n=[],r=0,o=t.length;r<o;r++)e.call(i,t[r],r,t)&&n.push(t[r]);return n}}function _(t,e,i){if(t&&e)for(var n=0,r=t.length;n<r;n++)if(e.call(i,t[n],n,t))return t[n]}function m(t,e){var i=Dr.call(arguments,2);return function(){return t.apply(e,i.concat(Dr.call(arguments)))}}function y(t){var e=Dr.call(arguments,1);return function(){return t.apply(this,e.concat(Dr.call(arguments)))}}function v(t){return"[object Array]"===Ar.call(t)}function x(t){return"function"==typeof t}function w(t){return"[object String]"===Ar.call(t)}function b(t){return!isNaN(parseFloat(t))&&isFinite(t)}function k(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function T(t){return!!Cr[Ar.call(t)]}function S(t){return!!Pr[Ar.call(t)]}function M(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function C(t){return t!==t}function P(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]}function A(t,e){return null!=t?t:e}function L(t,e,i){return null!=t?t:null!=e?e:i}function z(){return Function.call.apply(Dr,arguments)}function B(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function D(t,e){if(!t)throw new Error(e)}function E(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function I(t){t[Hr]=!0}function O(t){return t[Hr]}function F(t){function e(t,e){i?n.set(t,e):n.set(e,t)}var i=v(t);this.data={};var n=this;t instanceof F?t.each(e):t&&f(t,e)}function R(t){return new F(t)}function H(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var r=t.length;for(n=0;n<e.length;n++)i[n+r]=e[n];return i}function N(){}function W(t,e,i){return(e-t)*i+t}function V(t,e,i){return i>.5?e:t}function X(t,e,i,n,r){var o=t.length;if(1===r)for(s=0;s<o;s++)n[s]=W(t[s],e[s],i);else for(var a=o&&t[0].length,s=0;s<o;s++)for(var h=0;h<a;h++)n[s][h]=W(t[s][h],e[s][h],i)}function q(t,e,i){var n=t.length,r=e.length;if(n!==r)if(n>r)t.length=r;else for(a=n;a<r;a++)t.push(1===i?e[a]:Array.prototype.slice.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===i)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function j(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(o=0;o<n;o++)if(t[o]!==e[o])return!1}else for(var r=t[0].length,o=0;o<n;o++)for(var a=0;a<r;a++)if(t[o][a]!==e[o][a])return!1;return!0}function Y(t,e,i,n,r,o,a,s,h){var l=t.length;if(1===h)for(c=0;c<l;c++)s[c]=U(t[c],e[c],i[c],n[c],r,o,a);else for(var u=t[0].length,c=0;c<l;c++)for(var f=0;f<u;f++)s[c][f]=U(t[c][f],e[c][f],i[c][f],n[c][f],r,o,a)}function U(t,e,i,n,r,o,a){var s=.5*(i-t),h=.5*(n-e);return(2*(e-i)+s+h)*a+(-3*(e-i)-2*s-h)*o+s*r+e}function G(t){if(c(t)){var e=t.length;if(c(t[0])){for(var i=[],n=0;n<e;n++)i.push(Array.prototype.slice.call(t[n]));return i}return Array.prototype.slice.call(t)}return t}function Z(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function Q(t){var e=t[t.length-1].value;return c(e&&e[0])?2:1}function $(t){return parseInt(t,10)}function K(t,e){var i=new Wr(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function J(t,e){return t[0]=e[0],t[1]=e[1],t}function tt(t){var e=new Wr(2);return e[0]=t[0],e[1]=t[1],e}function et(t,e,i){return t[0]=e,t[1]=i,t}function it(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function nt(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function rt(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function ot(t){return Math.sqrt(at(t))}function at(t){return t[0]*t[0]+t[1]*t[1]}function st(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function ht(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function lt(t,e){return t[0]*e[0]+t[1]*e[1]}function ut(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function ct(t,e){var i=ot(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function ft(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function dt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function pt(t,e){return t[0]=-e[0],t[1]=-e[1],t}function gt(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function _t(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function mt(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function yt(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function vt(t,e){let i=t._$eventProcessor;i&&i.afterListenerChanged&&i.afterListenerChanged(e)}function xt(t,e){let i=t._$eventProcessor;return null!=e&&i&&i.normalizeQuery&&(e=i.normalizeQuery(e)),e}function wt(t,e,i,n,r,o){let a=t._$handlers;if("function"==typeof i&&(r=n,n=i,i=null),!n||!e)return t;i=xt(t,i),a[e]||(a[e]=[]);for(let i=0;i<a[e].length;i++)if(a[e][i].h===n)return t;let s={h:n,one:o,query:i,ctx:r||t,callAtLast:n.zrEventfulCallAtLast},h=a[e].length-1,l=a[e][h];return l&&l.callAtLast?a[e].splice(h,0,s):a[e].push(s),vt(t,e),t}function bt(t,e,i,n,r,o){var a=n+"-"+r,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var h=Math.round(Math.log((1<<s)-1&~r)/Zr);return t[i][h]}for(var l=n|1<<i,u=i+1;n&1<<u;)u++;for(var c=0,f=0,d=0;f<s;f++){var p=1<<f;p&r||(c+=(d%2?-1:1)*t[i][f]*bt(t,e-1,u,l,r|p,o),d++)}return o[a]=c,c}function kt(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},r=bt(i,8,0,0,0,n);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*bt(i,7,0===a?1:0,1<<a,1<<s,n)/r*e[a];return function(t,e,i){var n=e*o[6]+i*o[7]+1;t[0]=(e*o[0]+i*o[1]+o[2])/n,t[1]=(e*o[3]+i*o[4]+o[5])/n}}}function Tt(t,e,i,n){return i=i||{},n||!Mr.canvasSupported?St(t,e,i):Mr.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):St(t,e,i),i}function St(t,e,i){if(t.getBoundingClientRect&&Mr.domSupported){var n=e.clientX,r=e.clientY;if("CANVAS"===t.nodeName.toUpperCase()){var o=t.getBoundingClientRect();return i.zrX=n-o.left,void(i.zrY=r-o.top)}var a=t[Kr]||(t[Kr]={}),s=Ct(Mt(t,a),a);if(s)return s(Jr,n,r),i.zrX=Jr[0],void(i.zrY=Jr[1])}i.zrX=i.zrY=0}function Mt(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,h=(o>>1)%2;a.style.cssText=["position:absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","width:0","height:0",n[s]+":0",r[h]+":0",n[1-s]+":auto",r[1-h]+":auto",""].join("!important;"),t.appendChild(a),i.push(a)}return i}function Ct(t,e){for(var i=e.transformer,n=e.srcCoords,r=!0,o=[],a=[],s=0;s<4;s++){var h=t[s].getBoundingClientRect(),l=2*s,u=h.left,c=h.top;o.push(u,c),r&=n&&u===n[l]&&c===n[l+1],a.push(t[s].offsetLeft,t[s].offsetTop)}return r?i:(e.srcCoords=o,e.transformer=kt(o,a))}function Pt(t){return t||window.event}function At(t,e,i){if(null!=(e=Pt(e)).zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var r="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];r&&Tt(t,r,e,i)}else Tt(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&$r.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function Lt(t,e,i){Qr?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function zt(t,e,i){Qr?t.removeEventListener(e,i):t.detachEvent("on"+e,i)}function Bt(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function Dt(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function Et(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,zrIsFromLocal:i.zrIsFromLocal,which:i.which,stop:It}}function It(t){to(this.event)}function Ot(){}function Ft(t,e){this.trigger(t,Et(t,{},e))}function Rt(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,i))return!1;r.silent&&(n=!0),r=r.parent}return!n||ro}return!1}function Ht(t){var e=t.isSilent("pagemousemove")&&t.isSilent("pagemouseup")&&t.isSilent("pagekeydown")&&t.isSilent("pagekeyup"),i=t.proxy;i&&i.togglePageEvent&&i.togglePageEvent(!e)}function Nt(){var t=new so(6);return Wt(t),t}function Wt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Vt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Xt(t,e,i){var n=e[0]*i[0]+e[2]*i[1],r=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],h=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=h,t}function qt(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function jt(t,e,i){var n=e[0],r=e[2],o=e[4],a=e[1],s=e[3],h=e[5],l=Math.sin(i),u=Math.cos(i);return t[0]=n*u+a*l,t[1]=-n*l+a*u,t[2]=r*u+s*l,t[3]=-r*l+u*s,t[4]=u*o+l*h,t[5]=u*h-l*o,t}function Yt(t,e,i){var n=i[0],r=i[1];return t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r,t}function Ut(t,e){var i=e[0],n=e[2],r=e[4],o=e[1],a=e[3],s=e[5],h=i*a-o*n;return h?(h=1/h,t[0]=a*h,t[1]=-o*h,t[2]=-n*h,t[3]=i*h,t[4]=(n*s-a*r)*h,t[5]=(o*r-i*s)*h,t):null}function Gt(t){var e=Nt();return Vt(e,t),e}function Zt(t){return t>uo||t<-uo}function Qt(t){return t=Math.round(t),t<0?0:t>255?255:t}function $t(t){return t=Math.round(t),t<0?0:t>360?360:t}function Kt(t){return t<0?0:t>1?1:t}function Jt(t){return Qt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function te(t){return Kt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function ee(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function ie(t,e,i){return t+(e-t)*i}function ne(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}function re(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function oe(t,e){Mo&&re(Mo,e),Mo=So.put(t,Mo||e.slice())}function ae(t,e){if(t){e=e||[];var i=So.get(t);if(i)return re(e,i);var n=(t+="").replace(/ /g,"").toLowerCase();if(n in To)return re(e,To[n]),oe(t,e),e;if("#"!==n.charAt(0)){var r=n.indexOf("("),o=n.indexOf(")");if(-1!==r&&o+1===n.length){var a=n.substr(0,r),s=n.substr(r+1,o-(r+1)).split(","),h=1;switch(a){case"rgba":if(4!==s.length)return void ne(e,0,0,0,1);h=te(s.pop());case"rgb":return 3!==s.length?void ne(e,0,0,0,1):(ne(e,Jt(s[0]),Jt(s[1]),Jt(s[2]),h),oe(t,e),e);case"hsla":return 4!==s.length?void ne(e,0,0,0,1):(s[3]=te(s[3]),se(s,e),oe(t,e),e);case"hsl":return 3!==s.length?void ne(e,0,0,0,1):(se(s,e),oe(t,e),e);default:return}}ne(e,0,0,0,1)}else{if(4===n.length)return(l=parseInt(n.substr(1),16))>=0&&l<=4095?(ne(e,(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1),oe(t,e),e):void ne(e,0,0,0,1);if(7===n.length){var l=parseInt(n.substr(1),16);return l>=0&&l<=16777215?(ne(e,(16711680&l)>>16,(65280&l)>>8,255&l,1),oe(t,e),e):void ne(e,0,0,0,1)}}}}function se(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=te(t[1]),r=te(t[2]),o=r<=.5?r*(n+1):r+n-r*n,a=2*r-o;return e=e||[],ne(e,Qt(255*ee(a,o,i+1/3)),Qt(255*ee(a,o,i)),Qt(255*ee(a,o,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function he(t){if(t){var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(n,r,o),s=Math.max(n,r,o),h=s-a,l=(s+a)/2;if(0===h)e=0,i=0;else{i=l<.5?h/(s+a):h/(2-s-a);var u=((s-n)/6+h/2)/h,c=((s-r)/6+h/2)/h,f=((s-o)/6+h/2)/h;n===s?e=f-c:r===s?e=1/3+u-f:o===s&&(e=2/3+c-u),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,i,l];return null!=t[3]&&d.push(t[3]),d}}function le(t,e){var i=ae(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,i[n]>255?i[n]=255:t[n]<0&&(i[n]=0);return ge(i,4===i.length?"rgba":"rgb")}}function ue(t){var e=ae(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function ce(t,e,i){if(e&&e.length&&t>=0&&t<=1){i=i||[];var n=t*(e.length-1),r=Math.floor(n),o=Math.ceil(n),a=e[r],s=e[o],h=n-r;return i[0]=Qt(ie(a[0],s[0],h)),i[1]=Qt(ie(a[1],s[1],h)),i[2]=Qt(ie(a[2],s[2],h)),i[3]=Kt(ie(a[3],s[3],h)),i}}function fe(t,e,i){if(e&&e.length&&t>=0&&t<=1){var n=t*(e.length-1),r=Math.floor(n),o=Math.ceil(n),a=ae(e[r]),s=ae(e[o]),h=n-r,l=ge([Qt(ie(a[0],s[0],h)),Qt(ie(a[1],s[1],h)),Qt(ie(a[2],s[2],h)),Kt(ie(a[3],s[3],h))],"rgba");return i?{color:l,leftIndex:r,rightIndex:o,value:n}:l}}function de(t,e,i,n){if(t=ae(t))return t=he(t),null!=e&&(t[0]=$t(e)),null!=i&&(t[1]=te(i)),null!=n&&(t[2]=te(n)),ge(se(t),"rgba")}function pe(t,e){if((t=ae(t))&&null!=e)return t[3]=Kt(e),ge(t,"rgba")}function ge(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}function _e(t,e,i,n,r,o,a,s){function h(){--u||o&&o()}w(n)?(o=r,r=n,n=0):x(r)?(o=r,r="linear",n=0):x(n)?(o=n,n=0):x(i)?(o=i,i=500):i||(i=500),t.stopAnimation(),me(t,"",t,e,i,n,s);let l=t.animationProcessList.slice(),u=l.length;u||o&&o();for(let t=0;t<l.length;t++)l[t].done(h).start(r,a)}function me(t,e,i,n,r,o,a){let s={},h=0;for(let l in n)n.hasOwnProperty(l)&&(null!=i[l]?k(n[l])&&!c(n[l])?me(t,e?e+"."+l:l,i[l],n[l],r,o,a):(a?(s[l]=i[l],ye(t,e,l,n[l])):s[l]=n[l],h++):null==n[l]||a||ye(t,e,l,n[l]));h>0&&t.animate(e,!1).when(null==r?500:r,s).delay(o||0)}function ye(t,e,i,n){if(e){let r={};r[e]={},r[e][i]=n,t.attr(r)}else t.attr(i,n)}function ve(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}function xe(t){for(var e=0;t>=Ro;)e|=1&t,t>>=1;return t+e}function we(t,e,i,n){var r=e+1;if(r===i)return 1;if(n(t[r++],t[e])<0){for(;r<i&&n(t[r],t[r-1])<0;)r++;be(t,e,r)}else for(;r<i&&n(t[r],t[r-1])>=0;)r++;return r-e}function be(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}function ke(t,e,i,n,r){for(n===e&&n++;n<i;n++){for(var o,a=t[n],s=e,h=n;s<h;)r(a,t[o=s+h>>>1])<0?h=o:s=o+1;var l=n-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function Te(t,e,i,n,r,o){var a=0,s=0,h=1;if(o(t,e[i+r])>0){for(s=n-r;h<s&&o(t,e[i+r+h])>0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s),a+=r,h+=r}else{for(s=r+1;h<s&&o(t,e[i+r-h])<=0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s);var l=a;a=r-h,h=r-l}for(a++;a<h;){var u=a+(h-a>>>1);o(t,e[i+u])>0?a=u+1:h=u}return h}function Se(t,e,i,n,r,o){var a=0,s=0,h=1;if(o(t,e[i+r])<0){for(s=r+1;h<s&&o(t,e[i+r-h])<0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s);var l=a;a=r-h,h=r-l}else{for(s=n-r;h<s&&o(t,e[i+r+h])>=0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s),a+=r,h+=r}for(a++;a<h;){var u=a+(h-a>>>1);o(t,e[i+u])<0?h=u:a=u+1}return h}function Me(t,e){function i(t,e){h[c]=t,l[c]=e,c+=1}function n(){for(;c>1;){var t=c-2;if(t>=1&&l[t-1]<=l[t]+l[t+1]||t>=2&&l[t-2]<=l[t]+l[t-1])l[t-1]<l[t+1]&&t--;else if(l[t]>l[t+1])break;o(t)}}function r(){for(;c>1;){var t=c-2;t>0&&l[t-1]<l[t+1]&&t--,o(t)}}function o(i){var n=h[i],r=l[i],o=h[i+1],u=l[i+1];l[i]=r+u,i===c-3&&(h[i+1]=h[i+2],l[i+1]=l[i+2]),c--;var f=Se(t[o],t,n,r,0,e);n+=f,0!==(r-=f)&&0!==(u=Te(t[n+r-1],t,o,u,u-1,e))&&(r<=u?a(n,r,o,u):s(n,r,o,u))}function a(i,n,r,o){var a=0;for(a=0;a<n;a++)f[a]=t[i+a];var s=0,h=r,l=i;if(t[l++]=t[h++],0!=--o){if(1===n){for(a=0;a<o;a++)t[l+a]=t[h+a];return void(t[l+o]=f[s])}for(var c,d,p,g=u;;){c=0,d=0,p=!1;do{if(e(t[h],f[s])<0){if(t[l++]=t[h++],d++,c=0,0==--o){p=!0;break}}else if(t[l++]=f[s++],c++,d=0,1==--n){p=!0;break}}while((c|d)<g);if(p)break;do{if(0!==(c=Se(t[h],f,s,n,0,e))){for(a=0;a<c;a++)t[l+a]=f[s+a];if(l+=c,s+=c,(n-=c)<=1){p=!0;break}}if(t[l++]=t[h++],0==--o){p=!0;break}if(0!==(d=Te(f[s],t,h,o,0,e))){for(a=0;a<d;a++)t[l+a]=t[h+a];if(l+=d,h+=d,0===(o-=d)){p=!0;break}}if(t[l++]=f[s++],1==--n){p=!0;break}g--}while(c>=Ho||d>=Ho);if(p)break;g<0&&(g=0),g+=2}if((u=g)<1&&(u=1),1===n){for(a=0;a<o;a++)t[l+a]=t[h+a];t[l+o]=f[s]}else{if(0===n)throw new Error;for(a=0;a<n;a++)t[l+a]=f[s+a]}}else for(a=0;a<n;a++)t[l+a]=f[s+a]}function s(i,n,r,o){var a=0;for(a=0;a<o;a++)f[a]=t[r+a];var s=i+n-1,h=o-1,l=r+o-1,c=0,d=0;if(t[l--]=t[s--],0!=--n){if(1===o){for(d=(l-=n)+1,c=(s-=n)+1,a=n-1;a>=0;a--)t[d+a]=t[c+a];return void(t[l]=f[h])}for(var p=u;;){var g=0,_=0,m=!1;do{if(e(f[h],t[s])<0){if(t[l--]=t[s--],g++,_=0,0==--n){m=!0;break}}else if(t[l--]=f[h--],_++,g=0,1==--o){m=!0;break}}while((g|_)<p);if(m)break;do{if(0!==(g=n-Se(f[h],t,i,n,n-1,e))){for(n-=g,d=(l-=g)+1,c=(s-=g)+1,a=g-1;a>=0;a--)t[d+a]=t[c+a];if(0===n){m=!0;break}}if(t[l--]=f[h--],1==--o){m=!0;break}if(0!==(_=o-Te(t[s],f,0,o,o-1,e))){for(o-=_,d=(l-=_)+1,c=(h-=_)+1,a=0;a<_;a++)t[d+a]=f[c+a];if(o<=1){m=!0;break}}if(t[l--]=t[s--],0==--n){m=!0;break}p--}while(g>=Ho||_>=Ho);if(m)break;p<0&&(p=0),p+=2}if((u=p)<1&&(u=1),1===o){for(d=(l-=n)+1,c=(s-=n)+1,a=n-1;a>=0;a--)t[d+a]=t[c+a];t[l]=f[h]}else{if(0===o)throw new Error;for(c=l-(o-1),a=0;a<o;a++)t[c+a]=f[a]}}else for(c=l-(o-1),a=0;a<o;a++)t[c+a]=f[a]}var h,l,u=Ho,c=0,f=[];h=[],l=[],this.mergeRuns=n,this.forceMergeRuns=r,this.pushRun=i}function Ce(t,e,i,n){i||(i=0),n||(n=t.length);var r=n-i;if(!(r<2)){var o=0;if(r<Ro)return o=we(t,i,n,e),void ke(t,i,n,i+o,e);var a=new Me(t,e),s=xe(r);do{if((o=we(t,i,n,e))<s){var h=r;h>s&&(h=s),ke(t,i,i+h,i+o,e),o=h}a.pushRun(i,o),a.mergeRuns(),r-=o,i+=o}while(0!==r);a.forceMergeRuns()}}function Pe(t,e,i){let n=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,r=r*i.width+i.x,o=o*i.height+i.y,a=a*i.height+i.y),n=isNaN(n)?0:n,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(n,o,r,a)}function Ae(t,e,i){let n=i.width,r=i.height,o=Math.min(n,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,h=null==e.r?.5:e.r;return e.global||(a=a*n+i.x,s=s*r+i.y,h*=o),t.createRadialGradient(a,s,0,a,s,h)}function Le(t,e,i){let n=Fr(),r=e.getWidth(),o=e.getHeight(),a=n.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=r+"px",a.height=o+"px",n.setAttribute("data-zr-dom-id",t)),n.width=r*i,n.height=o*i,n}function ze(t){if("string"==typeof t){var e=Jo.get(t);return e&&e.image}return t}function Be(t,e,i,n,r){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var o=Jo.get(t),a={hostEl:i,cb:n,cbPayload:r};return o?!Ee(e=o.image)&&o.pending.push(a):((e=new Image).onload=e.onerror=De,Jo.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function De(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function Ee(t){return t&&t.width&&t.height}function Ie(t,e){var i=t+":"+(e=e||ra);if(ta[i])return ta[i];for(var n=(t+"").split("\n"),r=0,o=0,a=n.length;o<a;o++)r=Math.max(Ue(n[o],e).width,r);return ea>ia&&(ea=0,ta={}),ea++,ta[i]=r,r}function Oe(t,e,i,n,r,o,a,s){return a?Re(t,e,i,n,r,o,a,s):Fe(t,e,i,n,r,o,s)}function Fe(t,e,i,n,r,o,a){var s=Ge(t,e,r,o,a),h=Ie(t,e);r&&(h+=r[1]+r[3]);var l=s.outerHeight,u=new ve(He(0,h,i),Ne(0,l,n),h,l);return u.lineHeight=s.lineHeight,u}function Re(t,e,i,n,r,o,a,s){var h=Ze(t,{rich:a,truncate:s,font:e,textAlign:i,textPadding:r,textLineHeight:o}),l=h.outerWidth,u=h.outerHeight;return new ve(He(0,l,i),Ne(0,u,n),l,u)}function He(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function Ne(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function We(t,e,i){var n=e.textPosition,r=e.textDistance,o=i.x,a=i.y;r=r||0;var s=i.height,h=i.width,l=s/2,u="left",c="top";switch(n){case"left":o-=r,a+=l,u="right",c="middle";break;case"right":o+=r+h,a+=l,c="middle";break;case"top":o+=h/2,a-=r,u="center",c="bottom";break;case"bottom":o+=h/2,a+=s+r,u="center";break;case"inside":o+=h/2,a+=l,u="center",c="middle";break;case"insideLeft":o+=r,a+=l,c="middle";break;case"insideRight":o+=h-r,a+=l,u="right",c="middle";break;case"insideTop":o+=h/2,a+=r,u="center";break;case"insideBottom":o+=h/2,a+=s-r,u="center",c="bottom";break;case"insideTopLeft":o+=r,a+=r;break;case"insideTopRight":o+=h-r,a+=r,u="right";break;case"insideBottomLeft":o+=r,a+=s-r,c="bottom";break;case"insideBottomRight":o+=h-r,a+=s-r,u="right",c="bottom"}return t=t||{},t.x=o,t.y=a,t.textAlign=u,t.textVerticalAlign=c,t}function Ve(t,e,i,n,r){if(!e)return"";var o=(t+"").split("\n");r=Xe(e,i,n,r);for(var a=0,s=o.length;a<s;a++)o[a]=qe(o[a],r);return o.join("\n")}function Xe(t,e,i,n){(n=o({},n)).font=e;var i=A(i,"...");n.maxIterations=A(n.maxIterations,2);var r=n.minChar=A(n.minChar,0);n.cnCharWidth=Ie("国",e);var a=n.ascCharWidth=Ie("a",e);n.placeholder=A(n.placeholder,"");for(var s=t=Math.max(0,t-1),h=0;h<r&&s>=a;h++)s-=a;var l=Ie(i,e);return l>s&&(i="",l=0),s=t-l,n.ellipsis=i,n.ellipsisWidth=l,n.contentWidth=s,n.containerWidth=t,n}function qe(t,e){var i=e.containerWidth,n=e.font,r=e.contentWidth;if(!i)return"";var o=Ie(t,n);if(o<=i)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?je(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=Ie(t=t.substr(0,s),n)}return""===t&&(t=e.placeholder),t}function je(t,e,i,n){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?i:n}return o}function Ye(t){return Ie("国",t)}function Ue(t,e){return oa.measureText(t,e)}function Ge(t,e,i,n,r){null!=t&&(t+="");var o=A(n,Ye(e)),a=t?t.split("\n"):[],s=a.length*o,h=s,l=!0;if(i&&(h+=i[0]+i[2]),t&&r){l=!1;var u=r.outerHeight,c=r.outerWidth;if(null!=u&&h>u)t="",a=[];else if(null!=c)for(var f=Xe(c-(i?i[1]+i[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),d=0,p=a.length;d<p;d++)a[d]=qe(a[d],f)}return{lines:a,height:s,outerHeight:h,lineHeight:o,canCacheByTextString:l}}function Ze(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var n,r=na.lastIndex=0;null!=(n=na.exec(t));){var o=n.index;o>r&&Qe(i,t.substring(r,o)),Qe(i,n[2],n[1]),r=na.lastIndex}r<t.length&&Qe(i,t.substring(r,t.length));var a=i.lines,s=0,h=0,l=[],u=e.textPadding,c=e.truncate,f=c&&c.outerWidth,d=c&&c.outerHeight;u&&(null!=f&&(f-=u[1]+u[3]),null!=d&&(d-=u[0]+u[2]));for(P=0;P<a.length;P++){for(var p=a[P],g=0,_=0,m=0;m<p.tokens.length;m++){var y=(z=p.tokens[m]).styleName&&e.rich[z.styleName]||{},v=z.textPadding=y.textPadding,x=z.font=y.font||e.font,w=z.textHeight=A(y.textHeight,Ye(x));if(v&&(w+=v[0]+v[2]),z.height=w,z.lineHeight=L(y.textLineHeight,e.textLineHeight,w),z.textAlign=y&&y.textAlign||e.textAlign,z.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=d&&s+z.lineHeight>d)return{lines:[],width:0,height:0};z.textWidth=Ie(z.text,x);var b=y.textWidth,k=null==b||"auto"===b;if("string"==typeof b&&"%"===b.charAt(b.length-1))z.percentWidth=b,l.push(z),b=0;else{if(k){b=z.textWidth;var T=y.textBackgroundColor,S=T&&T.image;S&&Ee(S=ze(S))&&(b=Math.max(b,S.width*w/S.height))}var M=v?v[1]+v[3]:0;b+=M;var C=null!=f?f-_:null;null!=C&&C<b&&(!k||C<M?(z.text="",z.textWidth=b=0):(z.text=Ve(z.text,C-M,x,c.ellipsis,{minChar:c.minChar}),z.textWidth=Ie(z.text,x),b=z.textWidth+M))}_+=z.width=b,y&&(g=Math.max(g,z.lineHeight))}p.width=_,p.lineHeight=g,s+=g,h=Math.max(h,_)}i.outerWidth=i.width=A(e.textWidth,h),i.outerHeight=i.height=A(e.textHeight,s),u&&(i.outerWidth+=u[1]+u[3],i.outerHeight+=u[0]+u[2]);for(var P=0;P<l.length;P++){var z=l[P],B=z.percentWidth;z.width=parseInt(B,10)/100*h}return i}function Qe(t,e,i){for(var n=""===e,r=e.split("\n"),o=t.lines,a=0;a<r.length;a++){var s=r[a],h={styleName:i,text:s,isLineHolder:!s&&!n};if(a)o.push({tokens:[h]});else{var l=(o[o.length-1]||(o[0]={tokens:[]})).tokens,u=l.length;1===u&&l[0].isLineHolder?l[0]=h:(s||!u||n)&&l.push(h)}}}function $e(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&E(e)||t.textFont||t.font}function Ke(t,e){var i,n,r,o,a=e.x,s=e.y,h=e.width,l=e.height,u=e.r;h<0&&(a+=h,h=-h),l<0&&(s+=l,l=-l),"number"==typeof u?i=n=r=o=u:u instanceof Array?1===u.length?i=n=r=o=u[0]:2===u.length?(i=r=u[0],n=o=u[1]):3===u.length?(i=u[0],n=o=u[1],r=u[2]):(i=u[0],n=u[1],r=u[2],o=u[3]):i=n=r=o=0;var c;i+n>h&&(i*=h/(c=i+n),n*=h/c),r+o>h&&(r*=h/(c=r+o),o*=h/c),n+r>l&&(n*=l/(c=n+r),r*=l/c),i+o>l&&(i*=l/(c=i+o),o*=l/c),t.moveTo(a+i,s),t.lineTo(a+h-n,s),0!==n&&t.arc(a+h-n,s+n,n,-Math.PI/2,0),t.lineTo(a+h,s+l-r),0!==r&&t.arc(a+h-r,s+l-r,r,0,Math.PI/2),t.lineTo(a+o,s+l),0!==o&&t.arc(a+o,s+l-o,o,Math.PI/2,Math.PI),t.lineTo(a,s+i),0!==i&&t.arc(a+i,s+i,i,Math.PI,1.5*Math.PI)}function Je(t){return ti(t),f(t.rich,ti),t}function ti(t){if(t){t.font=$e(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||sa[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||ha[i]?i:"top",t.textPadding&&(t.textPadding=B(t.textPadding))}}function ei(t,e,i,n,r,o){n.rich?ni(t,e,i,n,r,o):ii(t,e,i,n,r,o)}function ii(t,e,i,n,r,o){var a,s=si(n),h=!1,l=e.__attrCachedBy===Yo.PLAIN_TEXT;o!==Uo?(o&&(a=o.style,h=!s&&l&&a),e.__attrCachedBy=s?Yo.NONE:Yo.PLAIN_TEXT):l&&(e.__attrCachedBy=Yo.NONE);var u=n.font||aa;h&&u===(a.font||aa)||(e.font=u);var c=t.__computedFont;t.__styleFont!==u&&(t.__styleFont=u,c=t.__computedFont=e.font);var f=n.textPadding,d=n.textLineHeight,p=t.__textCotentBlock;p&&!t.__dirtyText||(p=t.__textCotentBlock=Ge(i,c,f,d,n.truncate));var g=p.outerHeight,_=p.lines,m=p.lineHeight,y=ui(ca,t,n,r),v=y.baseX,x=y.baseY,w=y.textAlign||"left",b=y.textVerticalAlign;oi(e,n,r,v,x);var k=Ne(x,g,b),T=v,S=k;if(s||f){var M=Ie(i,c);f&&(M+=f[1]+f[3]);var C=He(v,M,w);s&&hi(t,e,n,C,k,M,g),f&&(T=gi(v,w,f),S+=f[0])}e.textAlign=w,e.textBaseline="middle",e.globalAlpha=n.opacity||1;for(R=0;R<la.length;R++){var P=la[R],A=P[0],L=P[1],z=n[A];h&&z===a[A]||(e[L]=jo(e,L,z||P[2]))}S+=m/2;var B=n.textStrokeWidth,D=h?a.textStrokeWidth:null,E=!h||B!==D,I=!h||E||n.textStroke!==a.textStroke,O=fi(n.textStroke,B),F=di(n.textFill);if(O&&(E&&(e.lineWidth=B),I&&(e.strokeStyle=O)),F&&(h&&n.textFill===a.textFill||(e.fillStyle=F)),1===_.length)O&&e.strokeText(_[0],T,S),F&&e.fillText(_[0],T,S);else for(var R=0;R<_.length;R++)O&&e.strokeText(_[R],T,S),F&&e.fillText(_[R],T,S),S+=m}function ni(t,e,i,n,r,o){o!==Uo&&(e.__attrCachedBy=Yo.NONE);var a=t.__textCotentBlock;a&&!t.__dirtyText||(a=t.__textCotentBlock=Ze(i,n)),ri(t,e,a,n,r)}function ri(t,e,i,n,r){var o=i.width,a=i.outerWidth,s=i.outerHeight,h=n.textPadding,l=ui(ca,t,n,r),u=l.baseX,c=l.baseY,f=l.textAlign,d=l.textVerticalAlign;oi(e,n,r,u,c);var p=He(u,a,f),g=Ne(c,s,d),_=p,m=g;h&&(_+=h[3],m+=h[0]);var y=_+o;si(n)&&hi(t,e,n,p,g,a,s);for(var v=0;v<i.lines.length;v++){for(var x,w=i.lines[v],b=w.tokens,k=b.length,T=w.lineHeight,S=w.width,M=0,C=_,P=y,A=k-1;M<k&&(!(x=b[M]).textAlign||"left"===x.textAlign);)ai(t,e,x,n,T,m,C,"left"),S-=x.width,C+=x.width,M++;for(;A>=0&&"right"===(x=b[A]).textAlign;)ai(t,e,x,n,T,m,P,"right"),S-=x.width,P-=x.width,A--;for(C+=(o-(C-_)-(y-P)-S)/2;M<=A;)ai(t,e,x=b[M],n,T,m,C+x.width/2,"center"),C+=x.width,M++;m+=T}}function oi(t,e,i,n,r){if(i&&e.textRotation){var o=e.textOrigin;"center"===o?(n=i.width/2+i.x,r=i.height/2+i.y):o&&(n=o[0]+i.x,r=o[1]+i.y),t.translate(n,r),t.rotate(-e.textRotation),t.translate(-n,-r)}}function ai(t,e,i,n,r,o,a,s){var h=n.rich[i.styleName]||{};h.text=i.text;var l=i.textVerticalAlign,u=o+r/2;"top"===l?u=o+i.height/2:"bottom"===l&&(u=o+r-i.height/2),!i.isLineHolder&&si(h)&&hi(t,e,h,"right"===s?a-i.width:"center"===s?a-i.width/2:a,u-i.height/2,i.width,i.height);var c=i.textPadding;c&&(a=gi(a,s,c),u-=i.height/2-c[2]-i.textHeight/2),ci(e,"shadowBlur",L(h.textShadowBlur,n.textShadowBlur,0)),ci(e,"shadowColor",h.textShadowColor||n.textShadowColor||"transparent"),ci(e,"shadowOffsetX",L(h.textShadowOffsetX,n.textShadowOffsetX,0)),ci(e,"shadowOffsetY",L(h.textShadowOffsetY,n.textShadowOffsetY,0)),ci(e,"textAlign",s),ci(e,"textBaseline","middle"),ci(e,"font",i.font||aa);var f=fi(h.textStroke||n.textStroke,p),d=di(h.textFill||n.textFill),p=A(h.textStrokeWidth,n.textStrokeWidth);f&&(ci(e,"lineWidth",p),ci(e,"strokeStyle",f),e.strokeText(i.text,a,u)),d&&(ci(e,"fillStyle",d),e.fillText(i.text,a,u))}function si(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function hi(t,e,i,n,r,o,a){var s=i.textBackgroundColor,h=i.textBorderWidth,l=i.textBorderColor,u=w(s);if(ci(e,"shadowBlur",i.textBoxShadowBlur||0),ci(e,"shadowColor",i.textBoxShadowColor||"transparent"),ci(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),ci(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),u||h&&l){e.beginPath();var c=i.textBorderRadius;c?Ke(e,{x:n,y:r,width:o,height:a,r:c}):e.rect(n,r,o,a),e.closePath()}if(u)if(ci(e,"fillStyle",s),null!=i.fillOpacity){d=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=d}else e.fill();else if(k(s)){var f=s.image;(f=Be(f,null,t,li,s))&&Ee(f)&&e.drawImage(f,n,r,o,a)}if(h&&l)if(ci(e,"lineWidth",h),ci(e,"strokeStyle",l),null!=i.strokeOpacity){var d=e.globalAlpha;e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=d}else e.stroke()}function li(t,e){e.image=t}function ui(t,e,i,n){var r=i.x||0,o=i.y||0,a=i.textAlign,s=i.textVerticalAlign;if(n){var h=i.textPosition;if(h instanceof Array)r=n.x+pi(h[0],n.width),o=n.y+pi(h[1],n.height);else{var l=e&&e.calculateTextPosition?e.calculateTextPosition(ua,i,n):We(ua,i,n);r=l.x,o=l.y,a=a||l.textAlign,s=s||l.textVerticalAlign}var u=i.textOffset;u&&(r+=u[0],o+=u[1])}return t=t||{},t.baseX=r,t.baseY=o,t.textAlign=a,t.textVerticalAlign=s,t}function ci(t,e,i){return t[e]=jo(t,e,i),t[e]}function fi(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function di(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function pi(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function gi(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function _i(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function mi(t){t=t||{},Do.call(this,t);for(let e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new Zo(t.style,this),this._rect=null,this.__clipPaths=null}function yi(t){mi.call(this,t)}function vi(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}function xi(t,e,i){return pa.copy(t.getBoundingRect()),t.transform&&pa.applyTransform(t.transform),ga.width=e,ga.height=i,!pa.intersect(ga)}function wi(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}function bi(t,e){for(let i=0;i<t.length;i++){let n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}function ki(t,e){let i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}function Ti(t){t=t||{},this._animationProcessList=[],this._running=!1,this._timestamp,this._pausedTime,this._pauseStart,this._paused=!1,Gr.call(this)}function Si(t){return"mousewheel"===t&&Mr.browser.firefox?"DOMMouseScroll":t}function Mi(t){let e=t.pointerType;return"pen"===e||"touch"===e}function Ci(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function Pi(t){t&&(t.zrIsFromLocal=!0)}function Ai(t){return!(!t||!t.zrIsFromLocal)}function Li(t){t&&(t.zrByTouch=!0)}function zi(t,e,i,n){function r(t,i){e.mounted[t]=i,Lt(a,Si(t),i)}let o=e.domHandlers,a=e.domTarget;Mr.pointerEventsSupported?f(i.pointer,function(e){r(e,function(i){!n&&Ai(i)||(n&&Pi(i),o[e].call(t,i))})}):(Mr.touchEventsSupported&&f(i.touch,function(i){r(i,function(r){!n&&Ai(r)||(n&&Pi(r),o[i].call(t,r),Ci(e))})}),f(i.mouse,function(i){r(i,function(r){r=Pt(r),e.touching||!n&&Ai(r)||(n&&Pi(r),o[i].call(t,r))})}),f(i.keyboard,function(e){r(e,function(i){!n&&Ai(i)||(n&&Pi(i),o[e].call(t,i))})}))}function Bi(t){let e=t.mounted;for(let i in e)e.hasOwnProperty(i)&&zt(t.domTarget,Si(i),e[i]);t.mounted={}}function Di(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.touchTimer=null,this.touching=!1}function Ei(t){Gr.call(this),this.dom=t,this._localHandlerScope=new Di(t,xa),ma&&(this._globalHandlerScope=new Di(document,wa)),this._pageEventEnabled=!1,zi(this,this._localHandlerScope,ya,!0)}function Ii(t,e){let i=new Sa(Tr(),t,e);return Ta[i.id]=i,i}function Oi(t){if(t)t.dispose();else{for(let t in Ta)Ta.hasOwnProperty(t)&&Ta[t].dispose();Ta={}}return this}function Fi(t){return Ta[t]}function Ri(t,e){ka[t]=e}function Hi(t){return t>-Pa&&t<Pa}function Ni(t){return t>Pa||t<-Pa}function Wi(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}function Vi(t,e,i,n,r){var o=1-r;return 3*(((e-t)*o+2*(i-e)*r)*o+(n-i)*r*r)}function Xi(t,e,i,n,r,o){var a=n+3*(e-i)-t,s=3*(i-2*e+t),h=3*(e-t),l=t-r,u=s*s-3*a*h,c=s*h-9*a*l,f=h*h-3*s*l,d=0;if(Hi(u)&&Hi(c))Hi(s)?o[0]=0:(T=-h/s)>=0&&T<=1&&(o[d++]=T);else{var p=c*c-4*u*f;if(Hi(p)){var g=c/u,_=-g/2;(T=-s/a+g)>=0&&T<=1&&(o[d++]=T),_>=0&&_<=1&&(o[d++]=_)}else if(p>0){var m=Ca(p),y=u*s+1.5*a*(-c+m),v=u*s+1.5*a*(-c-m);(T=(-s-((y=y<0?-Ma(-y,za):Ma(y,za))+(v=v<0?-Ma(-v,za):Ma(v,za))))/(3*a))>=0&&T<=1&&(o[d++]=T)}else{var x=(2*u*s-3*a*c)/(2*Ca(u*u*u)),w=Math.acos(x)/3,b=Ca(u),k=Math.cos(w),T=(-s-2*b*k)/(3*a),_=(-s+b*(k+La*Math.sin(w)))/(3*a),S=(-s+b*(k-La*Math.sin(w)))/(3*a);T>=0&&T<=1&&(o[d++]=T),_>=0&&_<=1&&(o[d++]=_),S>=0&&S<=1&&(o[d++]=S)}}return d}function qi(t,e,i,n,r){var o=6*i-12*e+6*t,a=9*e+3*n-3*t-9*i,s=3*e-3*t,h=0;if(Hi(a))Ni(o)&&(c=-s/o)>=0&&c<=1&&(r[h++]=c);else{var l=o*o-4*a*s;if(Hi(l))r[0]=-o/(2*a);else if(l>0){var u=Ca(l),c=(-o+u)/(2*a),f=(-o-u)/(2*a);c>=0&&c<=1&&(r[h++]=c),f>=0&&f<=1&&(r[h++]=f)}}return h}function ji(t,e,i,n,r,o){var a=(e-t)*r+t,s=(i-e)*r+e,h=(n-i)*r+i,l=(s-a)*r+a,u=(h-s)*r+s,c=(u-l)*r+l;o[0]=t,o[1]=a,o[2]=l,o[3]=c,o[4]=c,o[5]=u,o[6]=h,o[7]=n}function Yi(t,e,i,n,r,o,a,s,h,l,u){var c,f,d,p,g,_=.005,m=1/0;Ba[0]=h,Ba[1]=l;for(var y=0;y<1;y+=.05)Da[0]=Wi(t,i,r,a,y),Da[1]=Wi(e,n,o,s,y),(p=jr(Ba,Da))<m&&(c=y,m=p);m=1/0;for(var v=0;v<32&&!(_<Aa);v++)f=c-_,d=c+_,Da[0]=Wi(t,i,r,a,f),Da[1]=Wi(e,n,o,s,f),p=jr(Da,Ba),f>=0&&p<m?(c=f,m=p):(Ea[0]=Wi(t,i,r,a,d),Ea[1]=Wi(e,n,o,s,d),g=jr(Ea,Ba),d<=1&&g<m?(c=d,m=g):_*=.5);return u&&(u[0]=Wi(t,i,r,a,c),u[1]=Wi(e,n,o,s,c)),Ca(m)}function Ui(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function Gi(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function Zi(t,e,i,n,r){var o=t-2*e+i,a=2*(e-t),s=t-n,h=0;if(Hi(o))Ni(a)&&(c=-s/a)>=0&&c<=1&&(r[h++]=c);else{var l=a*a-4*o*s;if(Hi(l))(c=-a/(2*o))>=0&&c<=1&&(r[h++]=c);else if(l>0){var u=Ca(l),c=(-a+u)/(2*o),f=(-a-u)/(2*o);c>=0&&c<=1&&(r[h++]=c),f>=0&&f<=1&&(r[h++]=f)}}return h}function Qi(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function $i(t,e,i,n,r){var o=(e-t)*n+t,a=(i-e)*n+e,s=(a-o)*n+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=i}function Ki(t,e,i,n,r,o,a,s,h){var l,u=.005,c=1/0;Ba[0]=a,Ba[1]=s;for(var f=0;f<1;f+=.05)Da[0]=Ui(t,i,r,f),Da[1]=Ui(e,n,o,f),(_=jr(Ba,Da))<c&&(l=f,c=_);c=1/0;for(var d=0;d<32&&!(u<Aa);d++){var p=l-u,g=l+u;Da[0]=Ui(t,i,r,p),Da[1]=Ui(e,n,o,p);var _=jr(Da,Ba);if(p>=0&&_<c)l=p,c=_;else{Ea[0]=Ui(t,i,r,g),Ea[1]=Ui(e,n,o,g);var m=jr(Ea,Ba);g<=1&&m<c?(l=g,c=m):u*=.5}}return h&&(h[0]=Ui(t,i,r,l),h[1]=Ui(e,n,o,l)),Ca(c)}function Ji(t,e,i,n,r,o){r[0]=Ia(t,i),r[1]=Ia(e,n),o[0]=Oa(t,i),o[1]=Oa(e,n)}function tn(t,e,i,n,r,o,a,s,h,l){var u,c=qi,f=Wi,d=c(t,i,r,a,Xa);for(h[0]=1/0,h[1]=1/0,l[0]=-1/0,l[1]=-1/0,u=0;u<d;u++){var p=f(t,i,r,a,Xa[u]);h[0]=Ia(p,h[0]),l[0]=Oa(p,l[0])}for(d=c(e,n,o,s,qa),u=0;u<d;u++){var g=f(e,n,o,s,qa[u]);h[1]=Ia(g,h[1]),l[1]=Oa(g,l[1])}h[0]=Ia(t,h[0]),l[0]=Oa(t,l[0]),h[0]=Ia(a,h[0]),l[0]=Oa(a,l[0]),h[1]=Ia(e,h[1]),l[1]=Oa(e,l[1]),h[1]=Ia(s,h[1]),l[1]=Oa(s,l[1])}function en(t,e,i,n,r,o,a,s){var h=Qi,l=Ui,u=Oa(Ia(h(t,i,r),1),0),c=Oa(Ia(h(e,n,o),1),0),f=l(t,i,r,u),d=l(e,n,o,c);a[0]=Ia(t,r,f),a[1]=Ia(e,o,d),s[0]=Oa(t,r,f),s[1]=Oa(e,o,d)}function nn(t,e,i,n,r,o,a,s,h){var l=mt,u=yt,c=Math.abs(r-o);if(c%Ha<1e-4&&c>1e-4)return s[0]=t-i,s[1]=e-n,h[0]=t+i,void(h[1]=e+n);if(Na[0]=Ra(r)*i+t,Na[1]=Fa(r)*n+e,Wa[0]=Ra(o)*i+t,Wa[1]=Fa(o)*n+e,l(s,Na,Wa),u(h,Na,Wa),(r%=Ha)<0&&(r+=Ha),(o%=Ha)<0&&(o+=Ha),r>o&&!a?o+=Ha:r<o&&a&&(r+=Ha),a){var f=o;o=r,r=f}for(var d=0;d<o;d+=Math.PI/2)d>r&&(Va[0]=Ra(d)*i+t,Va[1]=Fa(d)*n+e,l(s,Va,s),u(h,Va,h))}function rn(t,e,i,n,r,o,a){if(0===r)return!1;var s=r,h=0,l=t;if(a>e+s&&a>n+s||a<e-s&&a<n-s||o>t+s&&o>i+s||o<t-s&&o<i-s)return!1;if(t===i)return Math.abs(o-t)<=s/2;var u=(h=(e-n)/(t-i))*o-a+(l=(t*n-i*e)/(t-i));return u*u/(h*h+1)<=s/2*s/2}function on(t,e,i,n,r,o,a,s,h,l,u){if(0===h)return!1;var c=h;return!(u>e+c&&u>n+c&&u>o+c&&u>s+c||u<e-c&&u<n-c&&u<o-c&&u<s-c||l>t+c&&l>i+c&&l>r+c&&l>a+c||l<t-c&&l<i-c&&l<r-c&&l<a-c)&&Yi(t,e,i,n,r,o,a,s,l,u,null)<=c/2}function an(t,e,i,n,r,o,a,s,h){if(0===a)return!1;var l=a;return!(h>e+l&&h>n+l&&h>o+l||h<e-l&&h<n-l&&h<o-l||s>t+l&&s>i+l&&s>r+l||s<t-l&&s<i-l&&s<r-l)&&Ki(t,e,i,n,r,o,s,h,null)<=l/2}function sn(t){return(t%=rs)<0&&(t+=rs),t}function hn(t,e,i,n,r,o,a,s,h){if(0===a)return!1;var l=a;s-=t,h-=e;var u=Math.sqrt(s*s+h*h);if(u-l>i||u+l<i)return!1;if(Math.abs(n-r)%os<1e-4)return!0;if(o){var c=n;n=sn(r),r=sn(c)}else n=sn(n),r=sn(r);n>r&&(r+=os);var f=Math.atan2(h,s);return f<0&&(f+=os),f>=n&&f<=r||f+os>=n&&f+os<=r}function ln(t,e,i,n,r,o){if(o>e&&o>n||o<e&&o<n)return 0;if(n===e)return 0;var a=n<e?1:-1,s=(o-e)/(n-e);1!==s&&0!==s||(a=n<e?.5:-.5);var h=s*(i-t)+t;return h===r?1/0:h>r?a:0}function un(t,e){return Math.abs(t-e)<hs}function cn(){var t=us[0];us[0]=us[1],us[1]=t}function fn(t,e,i,n,r,o,a,s,h,l){if(l>e&&l>n&&l>o&&l>s||l<e&&l<n&&l<o&&l<s)return 0;var u=Xi(e,n,o,s,l,ls);if(0===u)return 0;for(var c,f,d=0,p=-1,g=0;g<u;g++){var _=ls[g],m=0===_||1===_?.5:1;Wi(t,i,r,a,_)<h||(p<0&&(p=qi(e,n,o,s,us),us[1]<us[0]&&p>1&&cn(),c=Wi(e,n,o,s,us[0]),p>1&&(f=Wi(e,n,o,s,us[1]))),2===p?_<us[0]?d+=c<e?m:-m:_<us[1]?d+=f<c?m:-m:d+=s<f?m:-m:_<us[0]?d+=c<e?m:-m:d+=s<c?m:-m)}return d}function dn(t,e,i,n,r,o,a,s){if(s>e&&s>n&&s>o||s<e&&s<n&&s<o)return 0;var h=Zi(e,n,o,s,ls);if(0===h)return 0;var l=Qi(e,n,o);if(l>=0&&l<=1){for(var u=0,c=Ui(e,n,o,l),f=0;f<h;f++){d=0===ls[f]||1===ls[f]?.5:1;(p=Ui(t,i,r,ls[f]))<a||(ls[f]<l?u+=c<e?d:-d:u+=o<c?d:-d)}return u}var d=0===ls[0]||1===ls[0]?.5:1,p=Ui(t,i,r,ls[0]);return p<a?0:o<e?d:-d}function pn(t,e,i,n,r,o,a,s){if((s-=e)>i||s<-i)return 0;l=Math.sqrt(i*i-s*s);ls[0]=-l,ls[1]=l;var h=Math.abs(n-r);if(h<1e-4)return 0;if(h%ss<1e-4){n=0,r=ss;p=o?1:-1;return a>=ls[0]+t&&a<=ls[1]+t?p:0}if(o){var l=n;n=sn(r),r=sn(l)}else n=sn(n),r=sn(r);n>r&&(r+=ss);for(var u=0,c=0;c<2;c++){var f=ls[c];if(f+t>a){var d=Math.atan2(s,f),p=o?1:-1;d<0&&(d=ss+d),(d>=n&&d<=r||d+ss>=n&&d+ss<=r)&&(d>Math.PI/2&&d<1.5*Math.PI&&(p=-p),u+=p)}}return u}function gn(t,e,i,n,r){for(var o=0,a=0,s=0,h=0,l=0,u=0;u<t.length;){var c=t[u++];switch(c===as.M&&u>1&&(i||(o+=ln(a,s,h,l,n,r))),1===u&&(h=a=t[u],l=s=t[u+1]),c){case as.M:a=h=t[u++],s=l=t[u++];break;case as.L:if(i){if(rn(a,s,t[u],t[u+1],e,n,r))return!0}else o+=ln(a,s,t[u],t[u+1],n,r)||0;a=t[u++],s=t[u++];break;case as.C:if(i){if(on(a,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],e,n,r))return!0}else o+=fn(a,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],n,r)||0;a=t[u++],s=t[u++];break;case as.Q:if(i){if(an(a,s,t[u++],t[u++],t[u],t[u+1],e,n,r))return!0}else o+=dn(a,s,t[u++],t[u++],t[u],t[u+1],n,r)||0;a=t[u++],s=t[u++];break;case as.A:var f=t[u++],d=t[u++],p=t[u++],g=t[u++],_=t[u++],m=t[u++];u+=1;var y=1-t[u++],v=Math.cos(_)*p+f,x=Math.sin(_)*g+d;u>1?o+=ln(a,s,v,x,n,r):(h=v,l=x);var w=(n-f)*g/p+f;if(i){if(hn(f,d,g,_,_+m,y,e,w,r))return!0}else o+=pn(f,d,g,_,_+m,y,w,r);a=Math.cos(_+m)*p+f,s=Math.sin(_+m)*g+d;break;case as.R:h=a=t[u++],l=s=t[u++];var v=h+t[u++],x=l+t[u++];if(i){if(rn(h,l,v,l,e,n,r)||rn(v,l,v,x,e,n,r)||rn(v,x,h,x,e,n,r)||rn(h,x,h,l,e,n,r))return!0}else o+=ln(v,l,v,x,n,r),o+=ln(h,x,h,l,n,r);break;case as.Z:if(i){if(rn(a,s,h,l,e,n,r))return!0}else o+=ln(a,s,h,l,n,r);a=h,s=l}}return i||un(s,l)||(o+=ln(a,s,h,l,n,r)||0),0!==o}function _n(t,e,i){return gn(t,0,!1,e,i)}function mn(t,e,i,n){return gn(t,e,!0,i,n)}function yn(t){mi.call(this,t),this.path=null}function vn(t,e,i,n,r,o,a,s,h,l,u){var c=h*(bs/180),f=ws(c)*(t-i)/2+xs(c)*(e-n)/2,d=-1*xs(c)*(t-i)/2+ws(c)*(e-n)/2,p=f*f/(a*a)+d*d/(s*s);p>1&&(a*=vs(p),s*=vs(p));var g=(r===o?-1:1)*vs((a*a*(s*s)-a*a*(d*d)-s*s*(f*f))/(a*a*(d*d)+s*s*(f*f)))||0,_=g*a*d/s,m=g*-s*f/a,y=(t+i)/2+ws(c)*_-xs(c)*m,v=(e+n)/2+xs(c)*_+ws(c)*m,x=Ss([1,0],[(f-_)/a,(d-m)/s]),w=[(f-_)/a,(d-m)/s],b=[(-1*f-_)/a,(-1*d-m)/s],k=Ss(w,b);Ts(w,b)<=-1&&(k=bs),Ts(w,b)>=1&&(k=0),0===o&&k>0&&(k-=2*bs),1===o&&k<0&&(k+=2*bs),u.addData(l,y,v,a,s,x,k,c,o)}function xn(t){if(!t)return new ns;for(var e,i=0,n=0,r=i,o=n,a=new ns,s=ns.CMD,h=t.match(Ms),l=0;l<h.length;l++){for(var u,c=h[l],f=c.charAt(0),d=c.match(Cs)||[],p=d.length,g=0;g<p;g++)d[g]=parseFloat(d[g]);for(var _=0;_<p;){var m,y,v,x,w,b,k,T=i,S=n;switch(f){case"l":i+=d[_++],n+=d[_++],u=s.L,a.addData(u,i,n);break;case"L":i=d[_++],n=d[_++],u=s.L,a.addData(u,i,n);break;case"m":i+=d[_++],n+=d[_++],u=s.M,a.addData(u,i,n),r=i,o=n,f="l";break;case"M":i=d[_++],n=d[_++],u=s.M,a.addData(u,i,n),r=i,o=n,f="L";break;case"h":i+=d[_++],u=s.L,a.addData(u,i,n);break;case"H":i=d[_++],u=s.L,a.addData(u,i,n);break;case"v":n+=d[_++],u=s.L,a.addData(u,i,n);break;case"V":n=d[_++],u=s.L,a.addData(u,i,n);break;case"C":u=s.C,a.addData(u,d[_++],d[_++],d[_++],d[_++],d[_++],d[_++]),i=d[_-2],n=d[_-1];break;case"c":u=s.C,a.addData(u,d[_++]+i,d[_++]+n,d[_++]+i,d[_++]+n,d[_++]+i,d[_++]+n),i+=d[_-2],n+=d[_-1];break;case"S":m=i,y=n;var M=a.len(),C=a.data;e===s.C&&(m+=i-C[M-4],y+=n-C[M-3]),u=s.C,T=d[_++],S=d[_++],i=d[_++],n=d[_++],a.addData(u,m,y,T,S,i,n);break;case"s":m=i,y=n;var M=a.len(),C=a.data;e===s.C&&(m+=i-C[M-4],y+=n-C[M-3]),u=s.C,T=i+d[_++],S=n+d[_++],i+=d[_++],n+=d[_++],a.addData(u,m,y,T,S,i,n);break;case"Q":T=d[_++],S=d[_++],i=d[_++],n=d[_++],u=s.Q,a.addData(u,T,S,i,n);break;case"q":T=d[_++]+i,S=d[_++]+n,i+=d[_++],n+=d[_++],u=s.Q,a.addData(u,T,S,i,n);break;case"T":m=i,y=n;var M=a.len(),C=a.data;e===s.Q&&(m+=i-C[M-4],y+=n-C[M-3]),i=d[_++],n=d[_++],u=s.Q,a.addData(u,m,y,i,n);break;case"t":m=i,y=n;var M=a.len(),C=a.data;e===s.Q&&(m+=i-C[M-4],y+=n-C[M-3]),i+=d[_++],n+=d[_++],u=s.Q,a.addData(u,m,y,i,n);break;case"A":v=d[_++],x=d[_++],w=d[_++],b=d[_++],k=d[_++],vn(T=i,S=n,i=d[_++],n=d[_++],b,k,v,x,w,u=s.A,a);break;case"a":v=d[_++],x=d[_++],w=d[_++],b=d[_++],k=d[_++],vn(T=i,S=n,i+=d[_++],n+=d[_++],b,k,v,x,w,u=s.A,a)}}"z"!==f&&"Z"!==f||(u=s.Z,a.addData(u),i=r,n=o),e=u}return a.toStatic(),a}function wn(t,e){var i=xn(t);return e=e||{},e.buildPath=function(t){if(t.setData)t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){ys(i,t),this.dirty(!0)},e}function bn(t,e){return new yn(wn(t,e))}function kn(t,e){return yn.extend(wn(t,e))}function Tn(t,e){for(var i=[],n=t.length,r=0;r<n;r++){var o=t[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),i.push(o.path)}var a=new yn(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},a}function Sn(t,e,i){var n=i&&i.lineWidth;if(e&&n){var r=e.x1,o=e.x2,a=e.y1,s=e.y2;zs(2*r)===zs(2*o)?t.x1=t.x2=Cn(r,n,!0):(t.x1=r,t.x2=o),zs(2*a)===zs(2*s)?t.y1=t.y2=Cn(a,n,!0):(t.y1=a,t.y2=s)}}function Mn(t,e,i){var n=i&&i.lineWidth;if(e&&n){var r=e.x,o=e.y,a=e.width,s=e.height;t.x=Cn(r,n,!0),t.y=Cn(o,n,!0),t.width=Math.max(Cn(r+a,n,!1)-t.x,0===a?0:1),t.height=Math.max(Cn(o+s,n,!1)-t.y,0===s?0:1)}}function Cn(t,e,i){var n=zs(2*t);return(n+zs(e))%2==0?n/2:(n+(i?1:-1))/2}function Pn(t,e,i,n,r,o,a){var s=.5*(i-t),h=.5*(n-e);return(2*(e-i)+s+h)*a+(-3*(e-i)-2*s-h)*o+s*r+e}function An(t,e,i){var n=e.points,r=e.smooth;if(n&&n.length>=2){if(r&&"spline"!==r){var o=Rs(n,r,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var a=n.length,s=0;s<(i?a:a-1);s++){var h=o[2*s],l=o[2*s+1],u=n[(s+1)%a];t.bezierCurveTo(h[0],h[1],l[0],l[1],u[0],u[1])}}else{"spline"===r&&(n=Fs(n,i)),t.moveTo(n[0][0],n[0][1]);for(var s=1,c=n.length;s<c;s++)t.lineTo(n[s][0],n[s][1])}i&&t.closePath()}}function Ln(t){if(w(t)){let e=new DOMParser;t=e.parseFromString(t,"text/xml")}for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function zn(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function Bn(t,e){let i=t.firstChild;for(;i;){if(1===i.nodeType){let t=i.getAttribute("offset");t=t.indexOf("%")>0?parseInt(t,10)/100:t?parseFloat(t):0;let n=i.getAttribute("stop-color")||"#000000";e.addColorStop(t,n)}i=i.nextSibling}}function Dn(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),a(e.__inheritedStyle,t.__inheritedStyle))}function En(t){let e=E(t).split(Xs),i=[];for(let t=0;t<e.length;t+=2){let n=parseFloat(e[t]),r=parseFloat(e[t+1]);i.push([n,r])}return i}function In(t,e,i,n){let r=e.__inheritedStyle||{},a="text"===e.type;if(1===t.nodeType&&(Fn(t,e),o(r,Rn(t)),!n))for(let e in Ys)if(Ys.hasOwnProperty(e)){let i=t.getAttribute(e);null!=i&&(r[Ys[e]]=i)}let s=a?"textFill":"fill",h=a?"textStroke":"stroke";e.style=e.style||new Zo;let l=e.style;null!=r.fill&&l.set(s,On(r.fill,i)),null!=r.stroke&&l.set(h,On(r.stroke,i)),f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){let e="lineWidth"===t&&a?"textStrokeWidth":t;null!=r[t]&&l.set(e,parseFloat(r[t]))}),r.textBaseline&&"auto"!==r.textBaseline||(r.textBaseline="alphabetic"),"alphabetic"===r.textBaseline&&(r.textBaseline="bottom"),"start"===r.textAlign&&(r.textAlign="left"),"end"===r.textAlign&&(r.textAlign="right"),f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=r[t]&&l.set(t,r[t])}),r.lineDash&&(e.style.lineDash=E(r.lineDash).split(Xs)),l[h]&&"none"!==l[h]&&(e[h]=!0),e.__inheritedStyle=r}function On(t,e){let i=e&&t&&t.match(Us);if(i){let t=E(i[1]),n=e[t];return n}return t}function Fn(t,e){let i=t.getAttribute("transform");if(i){let t=null,n=[];(i=i.replace(/,/g," ")).replace(Gs,function(t,e,i){n.push(e,i)});for(let e=n.length-1;e>0;e-=2){let i=n[e],r=n[e-1];switch(t=t||Nt(),r){case"translate":i=E(i).split(Xs),qt(t,t,[parseFloat(i[0]),parseFloat(i[1]||0)]);break;case"scale":i=E(i).split(Xs),Yt(t,t,[parseFloat(i[0]),parseFloat(i[1]||i[0])]);break;case"rotate":i=E(i).split(Xs),jt(t,t,parseFloat(i[0]));break;case"skew":i=E(i).split(Xs),console.warn("Skew transform is not supported yet");break;case"matrix":i=E(i).split(Xs),t[0]=parseFloat(i[0]),t[1]=parseFloat(i[1]),t[2]=parseFloat(i[2]),t[3]=parseFloat(i[3]),t[4]=parseFloat(i[4]),t[5]=parseFloat(i[5])}}e.setLocalTransform(t)}}function Rn(t){let e=t.getAttribute("style"),i={};if(!e)return i;let n={};Zs.lastIndex=0;let r;for(;null!=(r=Zs.exec(e));)n[r[1]]=r[2];for(let t in Ys)Ys.hasOwnProperty(t)&&null!=n[t]&&(i[Ys[t]]=n[t]);return i}function Hn(t,e,i){let n=e/t.width,r=i/t.height,o=Math.min(n,r);return{scale:[o,o],position:[-(t.x+t.width/2)*o+e/2,-(t.y+t.height/2)*o+i/2]}}function Nn(t,e){return(new zn).parse(t,e)}function Wn(t){mi.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Vn(t,e,i){let n=t.cpx2,r=t.cpy2;return null===n||null===r?[(i?Vi:Wi)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?Vi:Wi)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?Gi:Ui)(t.x1,t.cpx1,t.x2,e),(i?Gi:Ui)(t.y1,t.cpy1,t.y2,e)]}function Xn(t){return document.createElementNS(bh,t)}function qn(t){return Mh(1e4*t)/1e4}function jn(t){return t<Bh&&t>-Bh}function Yn(t,e){let i=e?t.textFill:t.fill;return null!=i&&i!==Sh}function Un(t,e){let i=e?t.textStroke:t.stroke;return null!=i&&i!==Sh}function Gn(t,e){e&&Zn(t,"transform","matrix("+Th.call(e,",")+")")}function Zn(t,e,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&t.setAttribute(e,i)}function Qn(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}function $n(t,e,i,n){if(Yn(e,i)){let n=i?e.textFill:e.fill;Zn(t,"fill",n="transparent"===n?Sh:n),Zn(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else Zn(t,"fill",Sh);if(Un(e,i)){let r=i?e.textStroke:e.stroke;Zn(t,"stroke",r="transparent"===r?Sh:r);let o=i?e.textStrokeWidth:e.lineWidth,a=!i&&e.strokeNoScale?n.getLineScale():1;Zn(t,"stroke-width",o/a),Zn(t,"paint-order",i?"stroke":"fill"),Zn(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity);let s=e.lineDash;s?(Zn(t,"stroke-dasharray",e.lineDash.join(",")),Zn(t,"stroke-dashoffset",Mh(e.lineDashOffset||0))):Zn(t,"stroke-dasharray",""),e.lineCap&&Zn(t,"stroke-linecap",e.lineCap),e.lineJoin&&Zn(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&Zn(t,"stroke-miterlimit",e.miterLimit)}else Zn(t,"stroke",Sh)}function Kn(t){let e=[],i=t.data,n=t.len(),r="",o=0,a=0,s=0;for(let t=0;t<n;){let n=i[t++];switch(n){case kh.M:r="M",o=2;break;case kh.L:r="L",o=2;break;case kh.Q:r="Q",o=4;break;case kh.C:r="C",o=6;break;case kh.A:let h=i[t++],l=i[t++],u=i[t++],c=i[t++],f=i[t++],d=i[t++],p=i[t++],g=i[t++],_=Math.abs(d),m=jn(_-Lh)||(g?d>=Lh:-d>=Lh),y=d>0?d%Lh:d%Lh+Lh,v=!1;v=!!m||!jn(_)&&y>=Ah==!!g;let x=qn(h+u*Ph(f)),w=qn(l+c*Ch(f));m&&(d=g?Lh-1e-4:1e-4-Lh,v=!0,9===t&&e.push("M",x,w)),a=qn(h+u*Ph(f+d)),s=qn(l+c*Ch(f+d)),e.push("A",qn(u),qn(c),Mh(p*zh),+v,+g,a,s);break;case kh.Z:r="Z";break;case kh.R:a=qn(i[t++]),s=qn(i[t++]);let b=qn(i[t++]),k=qn(i[t++]);e.push("M",a,s,"L",a+b,s,"L",a+b,s+k,"L",a,s+k,"L",a,s)}r&&e.push(r);for(let n=0;n<o;n++)e.push(qn(i[t++]))}return e.join(" ")}function Jn(t,e,i,n,r,o,a){Wt(Rh),e&&i&&Vt(Rh,i);let s=n.textRotation;if(r&&s){let t=n.textOrigin;"center"===t?(o=r.width/2+r.x,a=r.height/2+r.y):t&&(o=t[0]+r.x,a=t[1]+r.y),Rh[4]-=o,Rh[5]-=a,jt(Rh,Rh,s),Rh[4]+=o,Rh[5]+=a}Gn(t,Rh)}function tr(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function er(t,e,i,n){Zn(t,"dominant-baseline","middle"),Zn(t,"text-anchor",Hh[e]),Zn(t,"x",i),Zn(t,"y",n)}function ir(t){t&&t.__textSvgEl&&(t.__textSvgEl.parentNode.removeChild(t.__textSvgEl),t.__textSvgEl=null,t.__tspanList=[],t.__text=null)}function nr(){}function rr(t,e,i,n){for(var r=0,o=e.length,a=0,s=0;r<o;r++){var h=e[r];if(h.removed){for(var l=[],u=s;u<s+h.count;u++)l.push(u);h.indices=l,s+=h.count}else{for(var l=[],u=a;u<a+h.count;u++)l.push(u);h.indices=l,a+=h.count,h.added||(s+=h.count)}}return e}function or(t){return{newPos:t.newPos,components:t.components.slice(0)}}function ar(t,e,i,n,r){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=n,this._domName=r||"_dom",this.nextId=0}function sr(t,e){ar.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function hr(t,e){ar.call(this,t,e,"clipPath","__clippath_in_use__")}function lr(t,e){ar.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function ur(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function cr(t){return t instanceof yn?Dh:t instanceof yi?Eh:t instanceof As?Ih:Dh}function fr(t,e){return e&&t&&e.parentNode!==t}function dr(t,e,i){if(fr(t,e)&&i){let n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function pr(t,e){if(fr(t,e)){let i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function gr(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function _r(t){return t.__textSvgEl}function mr(t){return t.__svgEl}function yr(t){return function(){console.log('In SVG mode painter not support method "'+t+'"')}}function vr(){if(!Uh&&Gh){Uh=!0;let t=Gh.styleSheets;t.length<31?Gh.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}function xr(t){return qh(t)}function wr(t,e){vr(),this.root=t,this.storage=e;let i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();let r=e.delFromStorage,o=e.addToStorage;e.delFromStorage=function(t){r.call(e,t),t&&t.onRemove&&t.onRemove(n)},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),o.call(e,t)},this._firstPaint=!0}function br(t){return function(){console.log('In IE8.0 VML mode painter not support method "'+t+'"')}}var kr=2311,Tr=function(){return kr++},Sr={},Mr=Sr="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},i={},n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(t);return n&&(i.firefox=!0,i.version=n[1]),r&&(i.ie=!0,i.version=r[1]),o&&(i.edge=!0,i.version=o[1]),a&&(i.weChat=!0),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent),Cr={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Pr={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Ar=Object.prototype.toString,Lr=Array.prototype,zr=Lr.forEach,Br=Lr.filter,Dr=Lr.slice,Er=Lr.map,Ir=Lr.reduce,Or={},Fr=function(){return Or.createCanvas()};Or.createCanvas=function(){return document.createElement("canvas")};var Rr,Hr="__ec_primitive__";F.prototype={constructor:F,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){void 0!==e&&(t=m(t,e));for(var i in this.data)this.data.hasOwnProperty(i)&&t(this.data[i],i)},removeKey:function(t){delete this.data[t]}};var Nr=(Object.freeze||Object)({$override:e,clone:i,merge:n,mergeAll:r,extend:o,defaults:a,createCanvas:Fr,getContext:s,indexOf:h,inherits:l,mixin:u,isArrayLike:c,each:f,map:d,reduce:p,filter:g,find:_,bind:m,curry:y,isArray:v,isFunction:x,isString:w,isNumeric:b,isObject:k,isBuiltInObject:T,isTypedArray:S,isDom:M,eqNaN:C,retrieve:P,retrieve2:A,retrieve3:L,slice:z,normalizeCssArray:B,assert:D,trim:E,setAsPrimitive:I,isPrimitive:O,createHashMap:R,concatArray:H,noop:N,interpolateNumber:W,interpolateString:V,interpolateArray:X,fillArr:q,isArraySame:j,catmullRomInterpolateArray:Y,catmullRomInterpolate:U,cloneValue:G,rgba2String:Z,getArrayDim:Q,parseInt10:$}),Wr="undefined"==typeof Float32Array?Array:Float32Array,Vr=ot,Xr=at,qr=ft,jr=dt,Yr=(Object.freeze||Object)({create:K,copy:J,clone:tt,set:et,add:it,scaleAndAdd:nt,sub:rt,len:ot,length:Vr,lenSquare:at,lengthSquare:Xr,mul:st,div:ht,dot:lt,scale:ut,normalize:ct,distance:ft,dist:qr,distanceSquare:dt,distSquare:jr,negate:pt,lerp:gt,applyTransform:_t,min:mt,max:yt});let Ur=Array.prototype.slice,Gr=function(t){this._$handlers={},this._$eventProcessor=t};Gr.prototype={constructor:Gr,one:function(t,e,i,n){return wt(this,t,e,i,n,!0)},on:function(t,e,i,n){return wt(this,t,e,i,n,!1)},isSilent:function(t){let e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){let i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){let n=[];for(let r=0,o=i[t].length;r<o;r++)i[t][r].h!==e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return vt(this,t),this},trigger:function(t){let e=this._$handlers[t],i=this._$eventProcessor;if(e){let n=arguments,r=n.length;r>3&&(n=Ur.call(n,1));let o=e.length;for(let a=0;a<o;){let s=e[a];if(i&&i.filter&&null!=s.query&&!i.filter(t,s.query))a++;else{switch(r){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,n[1]);break;case 3:s.h.call(s.ctx,n[1],n[2]);break;default:s.h.apply(s.ctx,n)}s.one?(e.splice(a,1),o--):a++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this},triggerWithContext:function(t){let e=this._$handlers[t],i=this._$eventProcessor;if(e){let n=arguments,r=n.length;r>4&&(n=Ur.call(n,1,n.length-1));let o=n[n.length-1],a=e.length;for(let s=0;s<a;){let h=e[s];if(i&&i.filter&&null!=h.query&&!i.filter(t,h.query))s++;else{switch(r){case 1:h.h.call(o);break;case 2:h.h.call(o,n[1]);break;case 3:h.h.call(o,n[1],n[2]);break;default:h.h.apply(o,n)}h.one?(e.splice(s,1),a--):s++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this}};var Zr=Math.log(2),Qr="undefined"!=typeof window&&!!window.addEventListener,$r=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kr="___zrEVENTSAVED",Jr=[],to=Qr?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};class eo{constructor(t){this.selectionMap=new Map,this.handler=t,this.handler.on("mousedown",this._dragStart,this)}param(t,e){return{target:t,topTarget:e&&e.topTarget}}getSelectedItems(){return this.selectionMap}clearSelectionMap(){this.selectionMap.forEach((t,e)=>{t.dragging=!1}),this.selectionMap.clear()}_dragStart(t){let e=t.target,i=t.event;if(this._draggingItem=e,!e)return void this.clearSelectionMap();e.draggable&&(i.ctrlKey||this.selectionMap.get(e.id)||this.clearSelectionMap(),e.dragging=!0,this.selectionMap.set(e.id,e),this._x=t.offsetX,this._y=t.offsetY,this.handler.on("pagemousemove",this._drag,this),this.handler.on("pagemouseup",this._dragEnd,this),this.selectionMap.forEach((e,i)=>{console.log(e);this.handler.dispatchToElement(this.param(e,t),"dragstart",t.event)}))}_drag(t){let e=t.offsetX,i=t.offsetY,n=e-this._x,r=i-this._y;this._x=e,this._y=i,this.selectionMap.forEach((e,i)=>{e.drift(n,r,t);this.handler.dispatchToElement(this.param(e,t),"drag",t.event)});let o=this.handler.findHover(e,i,this._draggingItem).target,a=this._dropTarget;this._dropTarget=o,this._draggingItem!==o&&(a&&o!==a&&this.handler.dispatchToElement(this.param(a,t),"dragleave",t.event),o&&o!==a&&this.handler.dispatchToElement(this.param(o,t),"dragenter",t.event))}_dragEnd(t){this.selectionMap.forEach((e,i)=>{e.dragging=!1;this.handler.dispatchToElement(this.param(e,t),"dragend",t.event)}),this.handler.off("pagemousemove",this._drag),this.handler.off("pagemouseup",this._dragEnd),this._dropTarget&&this.handler.dispatchToElement(this.param(this._dropTarget,t),"drop",t.event),this._dropTarget=null}}var io=function(){this._track=[]};io.prototype={constructor:io,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var r={points:[],touches:[],target:e,event:t},o=0,a=n.length;o<a;o++){var s=n[o],h=Tt(i,s,{});r.points.push([h.zrX,h.zrY]),r.touches.push(s)}this._track.push(r)}},_recognize:function(t){for(var e in no)if(no.hasOwnProperty(e)){var i=no[e](this._track,t);if(i)return i}}};var no={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,r=(t[i-2]||{}).points||n;if(r&&r.length>1&&n&&n.length>1){var o=Bt(n)/Bt(r);!isFinite(o)&&(o=1),e.pinchScale=o;var a=Dt(n);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}},ro="silent";Ot.prototype.dispose=function(){};var oo=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu","pagemousemove","pagemouseup","pagekeydown","pagekeyup"],ao=function(t,e,i,n){Gr.call(this,{afterListenerChanged:m(Ht,null,this)}),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new Ot,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,new eo(this),this.setHandlerProxy(i)};ao.prototype={constructor:ao,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(f(oo,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,i=t.zrY,n=this._hovered,r=n.target;r&&!r.__zr&&(r=(n=this.findHover(n.x,n.y)).target);var o=this._hovered=this.findHover(e,i),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),r&&a!==r&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==r&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,i=t.toElement||t.relatedTarget;do{i=i&&i.parentNode}while(i&&9!==i.nodeType&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:t})},pagemousemove:y(Ft,"pagemousemove"),pagemouseup:y(Ft,"pagemouseup"),pagekeydown:y(Ft,"pagekeydown"),pagekeyup:y(Ft,"pagekeyup"),resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var r="on"+e,o=Et(e,t,i);n&&(n[r]&&(o.cancelBubble=n[r].call(n,o)),n.trigger(e,o),n=n.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),r={x:t,y:e},o=n.length-1;o>=0;o--){var a;if(n[o]!==i&&!n[o].ignore&&(a=Rt(n[o],t,e))&&(!r.topTarget&&(r.topTarget=n[o]),a!==ro)){r.target=n[o];break}}return r},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new io);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),n){var r=n.type;t.gestureEvent=r,this.dispatchToElement({target:n.target},r,n.event)}}},f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ao.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),n=i.target;if("mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||qr(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}),u(ao,Gr);var so="undefined"==typeof Float32Array?Array:Float32Array,ho=(Object.freeze||Object)({create:Nt,identity:Wt,copy:Vt,mul:Xt,translate:qt,rotate:jt,scale:Yt,invert:Ut,clone:Gt});let lo=Wt,uo=5e-5,co=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},fo=co.prototype;fo.transform=null,fo.needLocalTransform=function(){return Zt(this.rotation)||Zt(this.position[0])||Zt(this.position[1])||Zt(this.scale[0]-1)||Zt(this.scale[1]-1)};let po=[];fo.updateTransform=function(){let t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;if(!i&&!e)return void(n&&lo(n));n=n||Nt(),i?this.getLocalTransform(n):lo(n),e&&(i?Xt(n,t.transform,n):Vt(n,t.transform)),this.transform=n;let r=this.globalScaleRatio;if(null!=r&&1!==r){this.getGlobalScale(po);let t=po[0]<0?-1:1,e=po[1]<0?-1:1,i=((po[0]-t)*r+t)/po[0]||0,o=((po[1]-e)*r+e)/po[1]||0;n[0]*=i,n[1]*=i,n[2]*=o,n[3]*=o}this.invTransform=this.invTransform||Nt(),Ut(this.invTransform,n)},fo.getLocalTransform=function(t){return co.getLocalTransform(this,t)},fo.setTransform=function(t){let e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},fo.restoreTransform=function(t){let e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};let go=[],_o=Nt();fo.setLocalTransform=function(t){if(t){let e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],n=this.position,r=this.scale;Zt(e-1)&&(e=Math.sqrt(e)),Zt(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),n[0]=t[4],n[1]=t[5],r[0]=e,r[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/e)}},fo.decomposeTransform=function(){if(this.transform){let t=this.parent,e=this.transform;t&&t.transform&&(Xt(go,t.invTransform,e),e=go);let i=this.origin;i&&(i[0]||i[1])&&(_o[4]=i[0],_o[5]=i[1],Xt(go,e,_o),go[4]-=i[0],go[5]-=i[1],e=go),this.setLocalTransform(e)}},fo.getGlobalScale=function(t){let e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},fo.transformCoordToLocal=function(t,e){let i=[t,e],n=this.invTransform;return n&&_t(i,i,n),i},fo.transformCoordToGlobal=function(t,e){let i=[t,e],n=this.transform;return n&&_t(i,i,n),i},co.getLocalTransform=function(t,e){lo(e=e||[]);let i=t.origin,n=t.scale||[1,1],r=t.rotation||0,o=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),Yt(e,e,n),r&&jt(e,e,r),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=o[0],e[5]+=o[1],e};var mo={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-mo.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*mo.bounceIn(2*t):.5*mo.bounceOut(2*t-1)+.5}};class yo{constructor(t){this._target=t.target,this._lifeTime=t.lifeTime||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}nextFrame(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)return void(this._pausedTime+=e);let i=(t-this._startTime-this._pausedTime)/this._lifeTime;if(!(i<0)){i=Math.min(i,1);let e=this.easing,n="string"==typeof e?mo[e]:e,r="function"==typeof n?n(i):i;return this.fire("frame",r),1===i?this.loop?(this.restart(t),"restart"):"destroy":i}}restart(t){let e=(t-this._startTime-this._pausedTime)%this._lifeTime;this._startTime=t-e+this.gap,this._pausedTime=0}fire(t,e){this[t="on"+t]&&this[t](this._target,e)}pause(){this._paused=!0}resume(){this._paused=!1}}var vo=function(){this.head=null,this.tail=null,this._len=0},xo=vo.prototype;xo.insert=function(t){var e=new wo(t);return this.insertEntry(e),e},xo.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},xo.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},xo.len=function(){return this._len},xo.clear=function(){this.head=this.tail=null,this._len=0};var wo=function(t){this.value=t,this.next,this.prev},bo=function(t){this._list=new vo,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},ko=bo.prototype;ko.put=function(t,e){var i=this._list,n=this._map,r=null;if(null==n[t]){var o=i.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=i.head;i.remove(s),delete n[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new wo(e),a.key=t,i.insertEntry(a),n[t]=a}return r},ko.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},ko.clear=function(){this._list.clear(),this._map={}};var To={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},So=new bo(20),Mo=null,Co=ce,Po=fe,Ao=(Object.freeze||Object)({parse:ae,lift:le,toHex:ue,fastLerp:ce,fastMapToColor:Co,lerp:fe,mapToColor:Po,modifyHSL:de,modifyAlpha:pe,stringify:ge});class Lo{constructor(t){this._target=t._target,this._getter=t._getter,this._setter=t._setter,this._loop=t._loop,this._delay=t._delay,this.isFinished=!1,this.keyframes=[],this.timeline}addKeyFrame(t){this.keyframes.push(t)}nextFrame(t,e){if(this.timeline){let i=this.timeline.nextFrame(t,e);return b(i)&&1===i&&(this.isFinished=!0),i}}fire(t,e){this.timeline.fire(t,e)}start(t,e,i){let n=this._parseKeyFrames(t,e,i);if(!n)return null;let r=new yo(n);this.timeline=r}stop(t){t&&this.timeline.onframe(this._target,1)}pause(){this.timeline.pause()}resume(){this.timeline.resume()}_parseKeyFrames(t,e,i){let n=this._loop,r=this._delay,o=this._target,a=this._getter,s=this._setter,h="spline"===t,l=this.keyframes.length;if(l){let u=c(this.keyframes[0].value),f=!1,d=!1,p=u?Q(this.keyframes):0;this.keyframes.sort((t,e)=>t.time-e.time);let g=this.keyframes[l-1].time,_=[],m=[],y=this.keyframes[0].value,v=!0;for(let t=0;t<l;t++){_.push(this.keyframes[t].time/g);let e=this.keyframes[t].value;if(u&&j(e,y,p)||!u&&e===y||(v=!1),y=e,"string"==typeof e){let t=ae(e);t?(e=t,f=!0):d=!0}m.push(e)}if(i||!v){let i=m[l-1];for(let t=0;t<l-1;t++)u?q(m[t],i,p):!isNaN(m[t])||isNaN(i)||d||f||(m[t]=i);u&&q(a(o,e),i,p);let c,y,v,x,w,b,k=0,T=0,S=[0,0,0,0];return{target:o,lifeTime:g,loop:n,delay:r,onframe:function(t,i){let n;if(i<0)n=0;else if(i<T){for(n=c=Math.min(k+1,l-1);n>=0&&!(_[n]<=i);n--);n=Math.min(n,l-2)}else{for(n=k;n<l&&!(_[n]>i);n++);n=Math.min(n-1,l-2)}k=n,T=i;let r=_[n+1]-_[n];if(0!==r)if(y=(i-_[n])/r,h)if(x=m[n],v=m[0===n?n:n-1],w=m[n>l-2?l-1:n+1],b=m[n>l-3?l-1:n+2],u)Y(v,x,w,b,y,y*y,y*y*y,a(t,e),p);else{let i;if(f)i=Y(v,x,w,b,y,y*y,y*y*y,S,1),i=Z(S);else{if(d)return V(x,w,y);i=U(v,x,w,b,y,y*y,y*y*y)}s(t,e,i)}else if(u)X(m[n],m[n+1],y,a(t,e),p);else{let i;if(f)X(m[n],m[n+1],y,S,1),i=Z(S);else{if(d)return V(m[n],m[n+1],y);i=W(m[n],m[n+1],y)}s(t,e,i)}},easing:t&&"spline"!==t?t:"Linear"}}}}}let zo=function(t,e,i,n){this._trackCacheMap=new Map,this._target=t,this._loop=e||!1,this._getter=i||function(t,e){return t[e]},this._setter=n||function(t,e,i){t[e]=i},this._delay=0,this._paused=!1,this._doneList=[],this._onframeList=[]};zo.prototype={constructor:zo,when:function(t,e){for(let i in e)if(e.hasOwnProperty(i)){let n=this._getter(this._target,i);if(null!=n){let r=this._trackCacheMap.get(i);r||(r=new Lo({_target:this._target,_getter:this._getter,_setter:this._setter,_loop:this._loop,_delay:this._delay})),0!==t&&r.addKeyFrame({time:0,value:G(n)}),r.addKeyFrame({time:t,value:e[i]}),this._trackCacheMap.set(i,r)}}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._doneList.forEach((t,e)=>{t.call(this)}),this._trackCacheMap=new Map},isFinished:function(){let t=!0;return[...this._trackCacheMap.values()].forEach((e,i)=>{e.isFinished||(t=!1)}),t},start:function(t,e){let i=[...this._trackCacheMap.keys()];return i.forEach((i,n)=>{if(!this._trackCacheMap.get(i))return;let r=this._trackCacheMap.get(i);r.start(t,i,e)}),i.length||this._doneCallback(),this},stop:function(t){[...this._trackCacheMap.values()].forEach((t,e)=>{t.stop(this._target,1)}),this._trackCacheMap=new Map},nextFrame:function(t,e){let i=[],n=[],r="";[...this._trackCacheMap.values()].forEach((o,a)=>{let s=o.nextFrame(t,e);w(s)?(i.push(s),n.push(o)):b(s)&&(r=s)});let o=i.length;for(let t=0;t<o;t++)n[t].fire(i[t]);if(b(r))for(let t=0;t<this._onframeList.length;t++)this._onframeList[t](this._target,r);this.isFinished()&&this._doneCallback()},pause:function(){[...this._trackCacheMap.values()].forEach((t,e)=>{t.pause()}),this._paused=!0},resume:function(){[...this._trackCacheMap.values()].forEach((t,e)=>{t.resume()}),this._paused=!1},isPaused:function(){return!!this._paused},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this}};let Bo=function(){this.animationProcessList=[]};Bo.prototype={constructor:Bo,animate:function(t,e){let i,n=!1,r=this;if(t){let e=t.split("."),o=r;n="shape"===e[0];for(let t=0,i=e.length;t<i;t++)o&&(o=o[e[t]]);o&&(i=o)}else i=r;if(!i)return void console.log('Property "'+t+'" is not existed in element '+r.id);let o=new zo(i,e);return o.during(function(t){r.dirty(n)}).done(function(){r.animationProcessList.splice(h(r.animationProcessList,o),1)}),r.animationProcessList.push(o),this.__zr&&this.__zr.globalAnimationMgr.addAnimationProcess(o),o},stopAnimation:function(t){return this.animationProcessList.forEach((e,i)=>{e.stop(t)}),this.animationProcessList.length=0,this},animateTo:function(t,e,i,n,r,o){_e(this,t,e,i,n,r,o)},animateFrom:function(t,e,i,n,r,o){_e(this,t,e,i,n,r,o,!0)}};var Do=function(t){co.call(this,t),Gr.call(this,t),Bo.call(this,t),this.id=t.id||Tr()};Do.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("String"==typeof t)this.attrKV(t,e);else if(k(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animationProcessList;if(e)for(var i=0;i<e.length;i++)t.globalAnimationMgr.addAnimationProcess(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animationProcessList;if(e)for(var i=0;i<e.length;i++)t.globalAnimationMgr.removeAnimationProcess(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},u(Do,Bo),u(Do,co),u(Do,Gr);let Eo=_t,Io=Math.min,Oo=Math.max;ve.prototype={constructor:ve,union:function(t){let e=Io(t.x,this.x),i=Io(t.y,this.y);this.width=Oo(t.x+t.width,this.x+this.width)-e,this.height=Oo(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){let t=[],e=[],i=[],n=[];return function(r){if(r){t[0]=i[0]=this.x,t[1]=n[1]=this.y,e[0]=n[0]=this.x+this.width,e[1]=i[1]=this.y+this.height,Eo(t,t,r),Eo(e,e,r),Eo(i,i,r),Eo(n,n,r),this.x=Io(t[0],e[0],i[0],n[0]),this.y=Io(t[1],e[1],i[1],n[1]);let o=Oo(t[0],e[0],i[0],n[0]),a=Oo(t[1],e[1],i[1],n[1]);this.width=o-this.x,this.height=a-this.y}}}(),calculateTransform:function(t){let e=this,i=t.width/e.width,n=t.height/e.height,r=Nt();return qt(r,r,[-e.x,-e.y]),Yt(r,r,[i,n]),qt(r,r,[t.x,t.y]),r},intersect:function(t){if(!t)return!1;t instanceof ve||(t=ve.create(t));let e=this,i=e.x,n=e.x+e.width,r=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,h=t.y,l=t.y+t.height;return!(n<a||s<i||o<h||l<r)},contain:function(t,e){let i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new ve(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},ve.create=function(t){return new ve(t.x,t.y,t.width,t.height)};let Fo=function(t){t=t||{},Do.call(this,t);for(let e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Fo.prototype={constructor:Fo,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){let e=this._children;for(let i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){let i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;let e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Fo&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){let e=this.__zr,i=this.__storage,n=this._children,r=h(n,t);return r<0?this:(n.splice(r,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof Fo&&t.delChildrenFromStorage(i)),e&&e.refresh(),this)},removeAll:function(){let t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromStorage(t),t instanceof Fo&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){let i=this._children;for(let n=0;n<i.length;n++){let r=i[n];t.call(e,r,n)}return this},traverse:function(t,e){for(let i=0;i<this._children.length;i++){let n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(let e=0;e<this._children.length;e++){let i=this._children[e];t.addToStorage(i),i instanceof Fo&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(let e=0;e<this._children.length;e++){let i=this._children[e];t.delFromStorage(i),i instanceof Fo&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){let e=null,i=new ve(0,0,0,0),n=t||this._children,r=[];for(let t=0;t<n.length;t++){let o=n[t];if(!o.ignore&&!o.invisible){let t=o.getBoundingRect(),n=o.getLocalTransform(r);n?(i.copy(t),i.applyTransform(n),(e=e||i.clone()).union(i)):(e=e||t.clone()).union(t)}}return e||i}},l(Fo,Do);var Ro=32,Ho=7;let No=function(){this._roots=[],this._displayList=[],this._displayListLen=0};No.prototype={constructor:No,traverse:function(t,e){for(let i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;let e=this._roots,i=this._displayList;for(let i=0,n=e.length;i<n;i++)this._updateAndAddDisplayable(e[i],null,t);i.length=this._displayListLen,Mr.canvasSupported&&Ce(i,this.displayableSortFunc)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();let n=t.clipPath;if(n){e=e?e.slice():[];let i=n,r=t;for(;i;)i.parent=r,i.updateTransform(),e.push(i),r=i,i=i.clipPath}if(t.isGroup){let n=t._children;for(let r=0;r<n.length;r++){let o=n[r];t.__dirty&&(o.__dirty=!0),this._updateAndAddDisplayable(o,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Fo&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(let t=0;t<this._roots.length;t++){let e=this._roots[t];e instanceof Fo&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(let e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{let e=h(this._roots,t);e>=0&&(this.delFromStorage(t),this._roots.splice(e,1),t instanceof Fo&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:function(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}};var Wo="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Vo=1;"undefined"!=typeof window&&(Vo=Math.max(window.devicePixelRatio||1,1));var Xo=Vo,qo={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},jo=function(t,e,i){return qo.hasOwnProperty(e)?i*=t.dpr:i},Yo={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Uo=9;let Go=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Zo=function(t){this.extendFrom(t,!1)};Zo.prototype={constructor:Zo,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){let n=this,r=i&&i.style,o=!r||t.__attrCachedBy!==Yo.STYLE_BIND;t.__attrCachedBy=Yo.STYLE_BIND;for(let e=0;e<Go.length;e++){let i=Go[e],a=i[0];(o||n[a]!==r[a])&&(t[a]=jo(t,a,n[a]||i[1]))}if((o||n.fill!==r.fill)&&(t.fillStyle=n.fill),(o||n.stroke!==r.stroke)&&(t.strokeStyle=n.stroke),(o||n.opacity!==r.opacity)&&(t.globalAlpha=null==n.opacity?1:n.opacity),(o||n.blend!==r.blend)&&(t.globalCompositeOperation=n.blend||"source-over"),this.hasStroke()){let i=n.lineWidth;t.lineWidth=i/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){let t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){let t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(let i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){let t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){let n=("radial"===e.type?Ae:Pe)(t,e,i),r=e.colorStops;for(let t=0;t<r.length;t++)n.addColorStop(r[t].offset,r[t].color);return n}};let Qo=Zo.prototype;for(let t=0;t<Go.length;t++){let e=Go[t];e[0]in Qo||(Qo[e[0]]=e[1])}Zo.getGradient=Qo.getGradient;let $o=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};$o.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};let Ko=function(t,e,i){let n;i=i||Xo,"string"==typeof t?n=Le(t,e,i):k(t)&&(t=(n=t).id),this.id=t,this.dom=n;let r=n.style;r&&(n.onselectstart=(()=>!1),r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.padding=0,r.margin=0,r["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};Ko.prototype={constructor:Ko,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){let t=this.dpr;this.domBack=Le("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){let i=this.dpr,n=this.dom,r=n.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),n.width=t*i,n.height=e*i,o&&(o.width=t*i,o.height=e*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(t,e){e=e||this.clearColor;let i=this.dom,n=this.ctx,r=i.width,o=i.height,a=this.motionBlur&&!t,s=this.lastFrameAlpha,h=this.dpr;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,r/h,o/h)),n.clearRect(0,0,r,o),e&&"transparent"!==e){let t;e.colorStops?(t=e.__canvasGradient||Zo.getGradient(n,e,{x:0,y:0,width:r,height:o}),e.__canvasGradient=t):e.image&&(t=$o.prototype.getCanvasPattern.call(e,n)),n.save(),n.fillStyle=t||e,n.fillRect(0,0,r,o),n.restore()}if(a){let t=this.domBack;n.save(),n.globalAlpha=s,n.drawImage(t,0,0,r,o),n.restore()}}};var Jo=new bo(50),ta={},ea=0,ia=5e3,na=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,ra="12px sans-serif",oa={};oa.measureText=function(t,e){var i=s();return i.font=e||ra,i.measureText(t)};var aa=ra,sa={left:1,right:1,center:1},ha={top:1,bottom:1,middle:1},la=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],ua={},ca={};let fa=new ve,da=function(){};da.prototype={constructor:da,drawRectText:function(t,e){let i=this.style;e=i.textRect||e,this.__dirty&&Je(i);let n=i.text;if(null!=n&&(n+=""),_i(n,i)){t.save();let r=this.transform;i.transformText?this.setTransform(t):r&&(fa.copy(e),fa.applyTransform(r),e=fa),ei(this,t,n,i,e,Uo),t.restore()}}},mi.prototype={constructor:mi,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){let i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?Do.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new Zo(t,this),this.dirty(!1),this},calculateTextPosition:null},l(mi,Do),u(mi,da),yi.prototype={constructor:yi,type:"image",brush:function(t,e){let i=this.style,n=i.image;i.bind(t,this,e);let r=this._image=Be(n,this._image,this,this.onload);if(r&&Ee(r)){let e=i.x||0,n=i.y||0,o=i.width,a=i.height,s=r.width/r.height;if(null==o&&null!=a?o=a*s:null==a&&null!=o?a=o/s:null==o&&null==a&&(o=r.width,a=r.height),this.setTransform(t),i.sWidth&&i.sHeight){let s=i.sx||0,h=i.sy||0;t.drawImage(r,s,h,i.sWidth,i.sHeight,e,n,o,a)}else if(i.sx&&i.sy){let s=i.sx,h=i.sy,l=o-s,u=a-h;t.drawImage(r,s,h,l,u,e,n,o,a)}else t.drawImage(r,e,n,o,a);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){let t=this.style;return this._rect||(this._rect=new ve(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},l(yi,mi);let pa=new ve(0,0,0,0),ga=new ve(0,0,0,0),_a=function(t,e,i){this.type="canvas";let n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=o({},i||{}),this.dpr=i.devicePixelRatio||Xo,this._singleCanvas=n,this.root=t;let r=t.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;let a=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){let e=t.width,n=t.height;null!=i.width&&(e=i.width),null!=i.height&&(n=i.height),this.dpr=i.devicePixelRatio||1,t.width=e*this.dpr,t.height=n*this.dpr,this._width=e,this._height=n;let r=new Ko(t,this,this.dpr);r.__builtin__=!0,r.initContext(),s[314159]=r,r.zlevel=314159,a.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);let e=this._domRoot=ki(this._width,this._height);t.appendChild(e)}this._hoverlayer=null,this._hoverElements=[]};_a.prototype={constructor:_a,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){let t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){let e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(let t=0;t<i.length;t++){let e=i[t],n=this._layers[e];if(!n.__builtin__&&n.refresh){let e=0===t?this._backgroundColor:null;n.refresh(e)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){let i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return i.__from=t,t.__hoverMir=i,e&&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){let e=t.__hoverMir,i=this._hoverElements,n=h(i,e);n>=0&&i.splice(n,1),t.__hoverMir=null},clearHover:function(t){let e=this._hoverElements;for(let t=0;t<e.length;t++){let i=e[t].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){let t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){Ce(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));let n={};i.ctx.save();for(let r=0;r<e;){let o=t[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,i,!0,n))):(t.splice(r,1),a.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);let n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){let n=this;Wo(function(){n._paintList(t,e,i)})}}},_compositeManually:function(){let t=this.getLayer(314159).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)})},_doPaintList:function(t,e){let i=[];for(let t=0;t<this._zlevelList.length;t++){let n=this._zlevelList[t],r=this._layers[n];r.__builtin__&&r!==this._hoverlayer&&(r.__dirty||e)&&i.push(r)}let n=!0;for(let r=0;r<i.length;r++){let o=i[r],a=o.ctx,s={};a.save();let h=e?o.__startIndex:o.__drawIndex,l=!e&&o.incremental&&Date.now,u=l&&Date.now(),c=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,c);else if(h===o.__startIndex){let i=t[h];i.incremental&&i.notClear&&!e||o.clear(!1,c)}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=o.__startIndex);let f=h;for(;f<o.__endIndex;f++){let i=t[f];if(this._doPaintEl(i,o,e,s),i.__dirty=i.__dirtyText=!1,l){let t=Date.now()-u;if(t>15)break}}o.__drawIndex=f,o.__drawIndex<o.__endIndex&&(n=!1),s.prevElClipPaths&&a.restore(),a.restore()}return Mr.wxa&&f(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),n},_doPaintEl:function(t,e,i,n){let r=e.ctx,o=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!xi(t,this._width,this._height))){let e=t.__clipPaths,i=n.prevElClipPaths;i&&!wi(e,i)||(i&&(r.restore(),n.prevElClipPaths=null,n.prevEl=null),e&&(r.save(),bi(e,r),n.prevElClipPaths=e)),t.beforeBrush&&t.beforeBrush(r),t.brush(r,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(r)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);let i=this._layers[t];return i||((i=new Ko("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&n(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){let i=this._layers,n=this._zlevelList,r=n.length,o=null,a=-1,s=this._domRoot;if(i[t])return void console.log("ZLevel "+t+" has been used already");if(!vi(e))return void console.log("Layer of zlevel "+t+" is not valid");if(r>0&&t>n[0]){for(a=0;a<r-1&&!(n[a]<t&&n[a+1]>t);a++);o=i[n[a]]}if(n.splice(a+1,0,t),i[t]=e,!e.virtual)if(o){let t=o.dom;t.nextSibling?s.insertBefore(e.dom,t.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)},eachLayer:function(t,e){let i,n,r=this._zlevelList;for(n=0;n<r.length;n++)i=r[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){let i,n,r,o=this._zlevelList;for(r=0;r<o.length;r++)n=o[r],(i=this._layers[n]).__builtin__&&t.call(e,i,n)},eachOtherLayer:function(t,e){let i,n,r,o=this._zlevelList;for(r=0;r<o.length;r++)n=o[r],(i=this._layers[n]).__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){i&&(i.__endIndex!==t&&(i.__dirty=!0),i.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(let e=1;e<t.length;e++){let i=t[e];if(i.zlevel!==t[e-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}let i=null,n=0,r=0;for(;r<t.length;r++){let o,a=t[r],s=a.zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,n=1):o=this.getLayer(s+(n>0?.01:0),this._needsManuallyCompositing),o.__builtin__||console.log("ZLevel "+s+" has been used by unkown layer "+o.id),o!==i&&(o.__used=!0,o.__startIndex!==r&&(o.__dirty=!0),o.__startIndex=r,o.incremental?o.__drawIndex=-1:o.__drawIndex=r,e(r),i=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=r))}e(r),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){let i=this._layerConfig;i[t]?n(i[t],e,!0):i[t]=e;for(let e=0;e<this._zlevelList.length;e++){let r=this._zlevelList[e];if(r===t||r===t+.01){let e=this._layers[r];n(e,i[t],!0)}}}},delLayer:function(t){let e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(h(i,t),1))},resize:function(t,e){if(this._domRoot.style){let i=this._domRoot;i.style.display="none";let n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){i.style.width=t+"px",i.style.height=e+"px";for(let i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);f(this._progressiveLayers,function(i){i.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){let e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;let e=new Ko("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();let t=e.dom.width,i=e.dom.height,n=e.ctx;this.eachLayer(function(r){r.__builtin__?n.drawImage(r.dom,0,0,t,i):r.renderToCanvas&&(e.ctx.save(),r.renderToCanvas(e.ctx),e.ctx.restore())})}else{let t={},i=this.storage.getDisplayList(!0);for(let n=0;n<i.length;n++){let r=i[n];this._doPaintEl(r,e,!0,t)}}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){let e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);let a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||$(s[i])||$(a.style[i]))-($(s[r])||0)-($(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;let i=document.createElement("canvas"),n=i.getContext("2d"),r=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,h=o.shadowOffsetY*e,l=o.hasStroke()?o.lineWidth:0,u=Math.max(l/2,-s+a),c=Math.max(l/2,s+a),f=Math.max(l/2,-h+a),d=Math.max(l/2,h+a),p=r.width+u+c,g=r.height+f+d;i.width=p*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,p,g),n.dpr=e;let _={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-r.x,f-r.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);let m=new yi({style:{x:0,y:0,image:i}});return null!=_.position&&(m.position=t.position=_.position),null!=_.rotation&&(m.rotation=t.rotation=_.rotation),null!=_.scale&&(m.scale=t.scale=_.scale),m}},Ti.prototype={constructor:Ti,addAnimationProcess:function(t){this._animationProcessList.push(t)},removeAnimationProcess:function(t){let e=this._animationProcessList.findIndex(t);e>=0&&this._animationProcessList.splice(e,1)},_update:function(){var t=(new Date).getTime()-this._pausedTime,e=t-this._timestamp;this._animationProcessList.forEach((i,n)=>{i.nextFrame(t,e)}),this._timestamp=t,this.trigger("frame",e)},_startLoop:function(){function t(){e._running&&(Wo(t),!e._paused&&e._update())}var e=this;this._running=!0,Wo(t)},start:function(){this._timestamp=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._animationProcessList.length=0},isFinished:function(){let t=!0;return this._animationProcessList.forEach((e,i)=>{e.isFinished()||(t=!1)}),t}},u(Ti,Gr);let ma=Mr.domSupported,ya=function(){let t=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:t,touch:["touchstart","touchend","touchmove"],pointer:d(t,function(t){let i=t.replace("mouse","pointer");return e.hasOwnProperty(i)?i:t})}}(),va={keyboard:["keydown","keyup"],mouse:["mousemove","mouseup"],touch:["touchmove","touchend"],pointer:["pointermove","pointerup"]},xa={mouseout:function(t){let e=(t=At(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){Li(t=At(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),xa.mousemove.call(this,t),xa.mousedown.call(this,t)},touchmove:function(t){Li(t=At(this.dom,t)),this.handler.processGesture(t,"change"),xa.mousemove.call(this,t)},touchend:function(t){Li(t=At(this.dom,t)),this.handler.processGesture(t,"end"),xa.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&xa.click.call(this,t)},pointerdown:function(t){xa.mousedown.call(this,t)},pointermove:function(t){Mi(t)||xa.mousemove.call(this,t)},pointerup:function(t){xa.mouseup.call(this,t)},pointerout:function(t){Mi(t)||xa.mouseout.call(this,t)}};f(["click","mousemove","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){xa[t]=function(e){e=At(this.dom,e),this.trigger(t,e),"mousemove"!==t&&"mouseup"!==t||this.trigger("page"+t,e)}});let wa={touchmove:function(t){Li(t),wa.mousemove.call(this,t)},touchend:function(t){Li(t),wa.mouseup.call(this,t)},pointermove:function(t){Mi(t)||wa.mousemove.call(this,t)},pointerup:function(t){wa.mouseup.call(this,t)},mousemove:function(t){t=At(this.dom,t,!0),this.trigger("pagemousemove",t)},mouseup:function(t){t=At(this.dom,t,!0),this.trigger("pagemouseup",t)},keyup:function(t){t=At(this.dom,t,!0),this.trigger("pagekeyup",t)},keydown:function(t){t=At(this.dom,t,!0),this.trigger("pagekeydown",t)}};if(Ei.prototype.dispose=function(){Bi(this._localHandlerScope),ma&&Bi(this._globalHandlerScope)},Ei.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},Ei.prototype.togglePageEvent=function(t){if(D(null!=t),ma&&this._pageEventEnabled^t){this._pageEventEnabled=t;let e=this._globalHandlerScope;t?zi(this,e,va):Bi(e)}},u(Ei,Gr),!Mr.canvasSupported)throw new Error("Need Canvas Environment.");let ba=!Mr.canvasSupported,ka={canvas:_a},Ta={},Sa=function(t,e,i){i=i||{},this.dom=e,this.id=t;let n=this,r=new No,o=i.renderer;if(ba){if(!ka.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&ka[o]||(o="canvas");let a=new ka[o](e,r,i,t);this.storage=r,this.painter=a;let s=Mr.node||Mr.worker?null:new Ei(a.getViewportRoot());this.eventHandler=new ao(r,a,s,a.root),this.globalAnimationMgr=new Ti,this.globalAnimationMgr.on("frame",function(){n.flush()}),this.globalAnimationMgr.start(),this._needsRefresh;let h=r.delFromStorage,l=r.addToStorage;r.delFromStorage=function(t){h.call(r,t),t&&t.removeSelfFromZr(n)},r.addToStorage=function(t){l.call(r,t),t.addSelfToZr(n)}};Sa.prototype={constructor:Sa,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){let t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){let i=this.painter.addHover(t,e);return this.refreshHover(),i}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},findHover:function(t,e){return this.eventHandler.findHover(t,e)},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.eventHandler.resize()},clearAnimation:function(){this.globalAnimationMgr.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.eventHandler.setCursorStyle(t)},on:function(t,e,i){this.eventHandler.on(t,e,i)},off:function(t,e){this.eventHandler.off(t,e)},trigger:function(t,e){this.eventHandler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.globalAnimationMgr.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.eventHandler.dispose(),this.globalAnimationMgr=this.storage=this.painter=this.eventHandler=null,delete Ta[this.id]}};var Ma=Math.pow,Ca=Math.sqrt,Pa=1e-8,Aa=1e-4,La=Ca(3),za=1/3,Ba=K(),Da=K(),Ea=K(),Ia=Math.min,Oa=Math.max,Fa=Math.sin,Ra=Math.cos,Ha=2*Math.PI,Na=K(),Wa=K(),Va=K(),Xa=[],qa=[],ja={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ya=[],Ua=[],Ga=[],Za=[],Qa=Math.min,$a=Math.max,Ka=Math.cos,Ja=Math.sin,ts=Math.sqrt,es=Math.abs,is="undefined"!=typeof Float32Array,ns=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};ns.prototype={constructor:ns,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,i){i=i||0,this._ux=es(i/Xo/t)||0,this._uy=es(i/Xo/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(ja.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=es(t-this._xi)>this._ux||es(e-this._yi)>this._uy||this._len<5;return this.addData(ja.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,r,o){return this.addData(ja.C,t,e,i,n,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,r,o):this._ctx.bezierCurveTo(t,e,i,n,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,i,n){return this.addData(ja.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,r,o){return this.addData(ja.A,t,e,i,i,n,r-n,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,n,r,o),this._xi=Ka(r)*i+t,this._yi=Ja(r)*i+e,this},arcTo:function(t,e,i,n,r){return this._ctx&&this._ctx.arcTo(t,e,i,n,r),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(ja.R,t,e,i,n),this},closePath:function(){this.addData(ja.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!is||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,r=0;r<e;r++)i+=t[r].len();is&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[n++]=o[a];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,h=this._xi,l=this._yi,u=t-h,c=e-l,f=ts(u*u+c*c),d=h,p=l,g=a.length;for(u/=f,c/=f,o<0&&(o=r+o),d-=(o%=r)*u,p-=o*c;u>0&&d<=t||u<0&&d>=t||0===u&&(c>0&&p<=e||c<0&&p>=e);)d+=u*(i=a[n=this._dashIdx]),p+=c*i,this._dashIdx=(n+1)%g,u>0&&d<h||u<0&&d>h||c>0&&p<l||c<0&&p>l||s[n%2?"moveTo":"lineTo"](u>=0?Qa(d,t):$a(d,t),c>=0?Qa(p,e):$a(p,e));u=d-t,c=p-e,this._dashOffset=-ts(u*u+c*c)},_dashedBezierTo:function(t,e,i,n,r,o){var a,s,h,l,u,c=this._dashSum,f=this._dashOffset,d=this._lineDash,p=this._ctx,g=this._xi,_=this._yi,m=Wi,y=0,v=this._dashIdx,x=d.length,w=0;for(f<0&&(f=c+f),f%=c,a=0;a<1;a+=.1)s=m(g,t,i,r,a+.1)-m(g,t,i,r,a),h=m(_,e,n,o,a+.1)-m(_,e,n,o,a),y+=ts(s*s+h*h);for(;v<x&&!((w+=d[v])>f);v++);for(a=(w-f)/y;a<=1;)l=m(g,t,i,r,a),u=m(_,e,n,o,a),v%2?p.moveTo(l,u):p.lineTo(l,u),a+=d[v]/y,v=(v+1)%x;v%2!=0&&p.lineTo(r,o),s=r-l,h=o-u,this._dashOffset=-ts(s*s+h*h)},_dashedQuadraticTo:function(t,e,i,n){var r=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,is&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Ya[0]=Ya[1]=Ga[0]=Ga[1]=Number.MAX_VALUE,Ua[0]=Ua[1]=Za[0]=Za[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,r=0,o=0;o<t.length;){var a=t[o++];switch(1===o&&(n=e=t[o],r=i=t[o+1]),a){case ja.M:e=n=t[o++],i=r=t[o++],Ga[0]=n,Ga[1]=r,Za[0]=n,Za[1]=r;break;case ja.L:Ji(e,i,t[o],t[o+1],Ga,Za),e=t[o++],i=t[o++];break;case ja.C:tn(e,i,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],Ga,Za),e=t[o++],i=t[o++];break;case ja.Q:en(e,i,t[o++],t[o++],t[o],t[o+1],Ga,Za),e=t[o++],i=t[o++];break;case ja.A:var s=t[o++],h=t[o++],l=t[o++],u=t[o++],c=t[o++],f=t[o++]+c;o+=1;var d=1-t[o++];1===o&&(n=Ka(c)*l+s,r=Ja(c)*u+h),nn(s,h,l,u,c,f,d,Ga,Za),e=Ka(f)*l+s,i=Ja(f)*u+h;break;case ja.R:Ji(n=e=t[o++],r=i=t[o++],n+t[o++],r+t[o++],Ga,Za);break;case ja.Z:e=n,i=r}mt(Ya,Ya,Ga),yt(Ua,Ua,Za)}return 0===o&&(Ya[0]=Ya[1]=Ua[0]=Ua[1]=0),new ve(Ya[0],Ya[1],Ua[0]-Ya[0],Ua[1]-Ya[1])},rebuildPath:function(t){for(var e,i,n,r,o,a,s=this.data,h=this._ux,l=this._uy,u=this._len,c=0;c<u;){var f=s[c++];switch(1===c&&(e=n=s[c],i=r=s[c+1]),f){case ja.M:e=n=s[c++],i=r=s[c++],t.moveTo(n,r);break;case ja.L:o=s[c++],a=s[c++],(es(o-n)>h||es(a-r)>l||c===u-1)&&(t.lineTo(o,a),n=o,r=a);break;case ja.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),n=s[c-2],r=s[c-1];break;case ja.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),n=s[c-2],r=s[c-1];break;case ja.A:var d=s[c++],p=s[c++],g=s[c++],_=s[c++],m=s[c++],y=s[c++],v=s[c++],x=s[c++],w=g>_?g:_,b=g>_?1:g/_,k=g>_?_/g:1,T=m+y;Math.abs(g-_)>.001?(t.translate(d,p),t.rotate(v),t.scale(b,k),t.arc(0,0,w,m,T,1-x),t.scale(1/b,1/k),t.rotate(-v),t.translate(-d,-p)):t.arc(d,p,w,m,T,1-x),1===c&&(e=Ka(m)*g+d,i=Ja(m)*_+p),n=Ka(T)*g+d,r=Ja(T)*_+p;break;case ja.R:e=n=s[c],i=r=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case ja.Z:t.closePath(),n=e,r=i}}}},ns.CMD=ja;var rs=2*Math.PI,os=2*Math.PI,as=ns.CMD,ss=2*Math.PI,hs=1e-4,ls=[-1,-1,-1],us=[-1,-1];let cs=$o.prototype.getCanvasPattern,fs=Math.abs,ds=new ns(!0);yn.prototype={constructor:yn,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){let i=this.style,n=this.path||ds,r=i.hasStroke(),o=i.hasFill(),a=i.fill,s=i.stroke,h=o&&!!a.colorStops,l=r&&!!s.colorStops,u=o&&!!a.image,c=r&&!!s.image;if(i.bind(t,this,e),this.setTransform(t),this.__dirty){let e;h&&(e=e||this.getBoundingRect(),this._fillGradient=i.getGradient(t,a,e)),l&&(e=e||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,s,e))}h?t.fillStyle=this._fillGradient:u&&(t.fillStyle=cs.call(a,t)),l?t.strokeStyle=this._strokeGradient:c&&(t.strokeStyle=cs.call(s,t));let f=i.lineDash,d=i.lineDashOffset,p=!!t.setLineDash,g=this.getGlobalScale();if(n.setScale(g[0],g[1],this.segmentIgnoreThreshold),this.__dirtyPath||f&&!p&&r?(n.beginPath(t),f&&!p&&(n.setLineDash(f),n.setLineDashOffset(d)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o)if(null!=i.fillOpacity){let e=t.globalAlpha;t.globalAlpha=i.fillOpacity*i.opacity,n.fill(t),t.globalAlpha=e}else n.fill(t);if(f&&p&&(t.setLineDash(f),t.lineDashOffset=d),r)if(null!=i.strokeOpacity){let e=t.globalAlpha;t.globalAlpha=i.strokeOpacity*i.opacity,n.stroke(t),t.globalAlpha=e}else n.stroke(t);f&&p&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new ns},getBoundingRect:function(){let t=this._rect,e=this.style,i=!t;if(i){let e=this.path;e||(e=this.path=new ns),this.__dirtyPath&&(e.beginPath(),this.buildPath(e,this.shape,!1)),t=e.getBoundingRect()}if(this._rect=t,e.hasStroke()){let n=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){n.copy(t);let i=e.lineWidth,r=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(i=Math.max(i,this.strokeContainThreshold||4)),r>1e-10&&(n.width+=i/r,n.height+=i/r,n.x-=i/r/2,n.y-=i/r/2)}return n}return t},contain:function(t,e){let i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),r=this.style;if(t=i[0],e=i[1],n.contain(t,e)){let i=this.path.data;if(r.hasStroke()){let n=r.lineWidth,o=r.strokeNoScale?this.getLineScale():1;if(o>1e-10&&(r.hasFill()||(n=Math.max(n,this.strokeContainThreshold)),mn(i,n/o,t,e)))return!0}if(r.hasFill())return _n(i,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):mi.prototype.attrKV.call(this,t,e)},setShape:function(t,e){let i=this.shape;if(i){if(k(t))for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){let t=this.transform;return t&&fs(t[0]-1)>1e-10&&fs(t[3]-1)>1e-10?Math.sqrt(fs(t[0]*t[3]-t[2]*t[1])):1}},yn.extend=function(t){let e=function(e){yn.call(this,e),t.style&&this.style.extendFrom(t.style,!1);let i=t.shape;if(i){this.shape=this.shape||{};let t=this.shape;for(let e in i)!t.hasOwnProperty(e)&&i.hasOwnProperty(e)&&(t[e]=i[e])}t.init&&t.init.call(this,e)};l(e,yn);for(let i in t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},l(yn,mi);var ps=ns.CMD,gs=[[],[],[]],_s=Math.sqrt,ms=Math.atan2,ys=function(t,e){var i,n,r,o,a,s,h=t.data,l=ps.M,u=ps.C,c=ps.L,f=ps.R,d=ps.A,p=ps.Q;for(r=0,o=0;r<h.length;){switch(i=h[r++],o=r,n=0,i){case l:case c:n=1;break;case u:n=3;break;case p:n=2;break;case d:var g=e[4],_=e[5],m=_s(e[0]*e[0]+e[1]*e[1]),y=_s(e[2]*e[2]+e[3]*e[3]),v=ms(-e[1]/y,e[0]/m);h[r]*=m,h[r++]+=g,h[r]*=y,h[r++]+=_,h[r++]*=m,h[r++]*=y,h[r++]+=v,h[r++]+=v,o=r+=2;break;case f:s[0]=h[r++],s[1]=h[r++],_t(s,s,e),h[o++]=s[0],h[o++]=s[1],s[0]+=h[r++],s[1]+=h[r++],_t(s,s,e),h[o++]=s[0],h[o++]=s[1]}for(a=0;a<n;a++)(s=gs[a])[0]=h[r++],s[1]=h[r++],_t(s,s,e),h[o++]=s[0],h[o++]=s[1]}},vs=Math.sqrt,xs=Math.sin,ws=Math.cos,bs=Math.PI,ks=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},Ts=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(ks(t)*ks(e))},Ss=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ts(t,e))},Ms=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Cs=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,Ps=(Object.freeze||Object)({createFromString:bn,extendFromString:kn,mergePath:Tn});let As=function(t){mi.call(this,t)};As.prototype={constructor:As,type:"text",brush:function(t,e){let i=this.style;this.__dirty&&Je(i),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;let n=i.text;if(null!=n&&(n+=""),!_i(n,i))return void(t.__attrCachedBy=Yo.NONE);this.setTransform(t),ei(this,t,n,i,null,e),this.restoreTransform(t)},getBoundingRect:function(){let t=this.style;if(this.__dirty&&Je(t),!this._rect){let e=t.text;null!=e?e+="":e="";let i=Oe(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,fi(t.textStroke,t.textStrokeWidth)){let e=t.textStrokeWidth;i.x-=e/2,i.y-=e/2,i.width+=e,i.height+=e}this._rect=i}return this._rect}},l(As,mi);var Ls=yn.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),zs=Math.round;let Bs={};var Ds=yn.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){let i,n,r,o;this.subPixelOptimize?(Mn(Bs,e,this.style),i=Bs.x,n=Bs.y,r=Bs.width,o=Bs.height,Bs.r=e.r,e=Bs):(i=e.x,n=e.y,r=e.width,o=e.height),e.r?Ke(t,e):t.rect(i,n,r,o),t.closePath()}}),Es=yn.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){let i=.5522848,n=e.cx,r=e.cy,o=e.rx,a=e.ry,s=o*i,h=a*i;t.moveTo(n-o,r),t.bezierCurveTo(n-o,r-h,n-s,r-a,n,r-a),t.bezierCurveTo(n+s,r-a,n+o,r-h,n+o,r),t.bezierCurveTo(n+o,r+h,n+s,r+a,n,r+a),t.bezierCurveTo(n-s,r+a,n-o,r+h,n-o,r),t.closePath()}});let Is={};var Os=yn.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){let i,n,r,o;this.subPixelOptimize?(Sn(Is,e,this.style),i=Is.x1,n=Is.y1,r=Is.x2,o=Is.y2):(i=e.x1,n=e.y1,r=e.x2,o=e.y2);let a=e.percent;0!==a&&(t.moveTo(i,n),a<1&&(r=i*(1-a)+r*a,o=n*(1-a)+o*a),t.lineTo(r,o))},pointAt:function(t){let e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Fs=function(t,e){for(var i=t.length,n=[],r=0,o=1;o<i;o++)r+=ft(t[o-1],t[o]);var a=r/2;a=a<i?i:a;for(o=0;o<a;o++){var s,h,l,u=o/(a-1)*(e?i:i-1),c=Math.floor(u),f=u-c,d=t[c%i];e?(s=t[(c-1+i)%i],h=t[(c+1)%i],l=t[(c+2)%i]):(s=t[0===c?c:c-1],h=t[c>i-2?i-1:c+1],l=t[c>i-3?i-1:c+2]);var p=f*f,g=f*p;n.push([Pn(s[0],d[0],h[0],l[0],f,p,g),Pn(s[1],d[1],h[1],l[1],f,p,g)])}return n},Rs=function(t,e,i,n){var r,o,a,s,h=[],l=[],u=[],c=[];if(n){a=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,d=t.length;f<d;f++)mt(a,a,t[f]),yt(s,s,t[f]);mt(a,a,n[0]),yt(s,s,n[1])}for(var f=0,d=t.length;f<d;f++){var p=t[f];if(i)r=t[f?f-1:d-1],o=t[(f+1)%d];else{if(0===f||f===d-1){h.push(tt(t[f]));continue}r=t[f-1],o=t[f+1]}rt(l,o,r),ut(l,l,e);var g=ft(p,r),_=ft(p,o),m=g+_;0!==m&&(g/=m,_/=m),ut(u,l,-g),ut(c,l,_);var y=it([],p,u),v=it([],p,c);n&&(yt(y,y,a),mt(y,y,s),yt(v,v,a),mt(v,v,s)),h.push(y),h.push(v)}return i&&h.push(h.shift()),h},Hs=yn.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){An(t,e,!0)}}),Ns=yn.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){An(t,e,!1)}}),Ws=function(t){this.colorStops=t||[]};Ws.prototype={constructor:Ws,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var Vs=function(t,e,i,n,r,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=o||!1,Ws.call(this,r)};Vs.prototype={constructor:Vs},l(Vs,Ws);let Xs=/[\s,]+/;zn.prototype={constructor:zn,parse:function(t,e){e=e||{};let i=Ln(t);if(!i)throw new Error("Illegal svg");let n=new Fo;this._root=n;let r=i.getAttribute("viewBox")||"",o=parseFloat(i.getAttribute("width")||e.width),a=parseFloat(i.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(a)&&(a=null),In(i,n,null,!0);let s=i.firstChild;for(;s;)this._parseNode(s,n),s=s.nextSibling;let h,l;if(r){let t=E(r).split(Xs);t.length>=4&&(h={x:parseFloat(t[0]||0),y:parseFloat(t[1]||0),width:parseFloat(t[2]),height:parseFloat(t[3])})}if(h&&null!=o&&null!=a&&(l=Hn(h,o,a),!e.ignoreViewBox)){let t=n;(n=new Fo).add(t),t.scale=l.scale.slice(),t.position=l.position.slice()}return e.ignoreRootClip||null==o||null==a||n.setClipPath(new Ds({shape:{x:0,y:0,width:o,height:a}})),{root:n,width:o,height:a,viewBoxRect:h,viewBoxTransform:l}},_parseNode:function(t,e){let i=t.nodeName.toLowerCase();"defs"===i?this._isDefine=!0:"text"===i&&(this._isText=!0);let n;if(this._isDefine){let e=js[i];if(e){let i=e.call(this,t),n=t.getAttribute("id");n&&(this._defs[n]=i)}}else{let r=qs[i];r&&(n=r.call(this,t,e),e.add(n))}let r=t.firstChild;for(;r;)1===r.nodeType&&this._parseNode(r,n),3===r.nodeType&&this._isText&&this._parseText(r,n),r=r.nextSibling;"defs"===i?this._isDefine=!1:"text"===i&&(this._isText=!1)},_parseText:function(t,e){if(1===t.nodeType){let e=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(e),this._textY+=parseFloat(i)}let i=new As({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Dn(e,i),In(t,i,this._defs);let n=i.style.fontSize;n&&n<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=n/9,i.scale[1]*=n/9);let r=i.getBoundingRect();return this._textX+=r.width,e.add(i),i}};let qs={g:function(t,e){let i=new Fo;return Dn(e,i),In(t,i,this._defs),i},rect:function(t,e){let i=new Ds;return Dn(e,i),In(t,i,this._defs),i.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),i},circle:function(t,e){let i=new Ls;return Dn(e,i),In(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),i},line:function(t,e){let i=new Os;return Dn(e,i),In(t,i,this._defs),i.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),i},ellipse:function(t,e){let i=new Es;return Dn(e,i),In(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),i},polygon:function(t,e){let i=t.getAttribute("points");i&&(i=En(i));let n=new Hs({shape:{points:i||[]}});return Dn(e,n),In(t,n,this._defs),n},polyline:function(t,e){let i=new yn;Dn(e,i),In(t,i,this._defs);let n=t.getAttribute("points");return n&&(n=En(n)),new Ns({shape:{points:n||[]}})},image:function(t,e){let i=new yi;return Dn(e,i),In(t,i,this._defs),i.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),i},text:function(t,e){let i=t.getAttribute("x")||0,n=t.getAttribute("y")||0,r=t.getAttribute("dx")||0,o=t.getAttribute("dy")||0;this._textX=parseFloat(i)+parseFloat(r),this._textY=parseFloat(n)+parseFloat(o);let a=new Fo;return Dn(e,a),In(t,a,this._defs),a},tspan:function(t,e){let i=t.getAttribute("x"),n=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));let r=t.getAttribute("dx")||0,o=t.getAttribute("dy")||0,a=new Fo;return Dn(e,a),In(t,a,this._defs),this._textX+=r,this._textY+=o,a},path:function(t,e){let i=bn(t.getAttribute("d")||"");return Dn(e,i),In(t,i,this._defs),i}},js={lineargradient:function(t){let e=parseInt(t.getAttribute("x1")||0,10),i=parseInt(t.getAttribute("y1")||0,10),n=parseInt(t.getAttribute("x2")||10,10),r=parseInt(t.getAttribute("y2")||0,10),o=new Vs(e,i,n,r);return Bn(t,o),o},radialgradient:function(t){}},Ys={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},Us=/url\(\s*#(.*?)\)/,Gs=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,Zs=/([^\s:;]+)\s*:\s*([^:;]+)/g;var Qs=yn.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){let t=this.__dirtyPath,e=this.shape.paths;for(let i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();let t=this.shape.paths||[],e=this.getGlobalScale();for(let i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},buildPath:function(t,e){let i=e.paths||[];for(let e=0;e<i.length;e++)i[e].buildPath(t,i[e].shape,!0)},afterBrush:function(){let t=this.shape.paths||[];for(let e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),yn.prototype.getBoundingRect.call(this)}});let $s=[];Wn.prototype={constructor:Wn,incremental:!0,clearDisplaybles:function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},addDisplayable:function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},addDisplayables:function(t,e){e=e||!1;for(let i=0;i<t.length;i++)this.addDisplayable(t[i],e)},eachPendingDisplayable:function(t){for(let e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(let e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},update:function(){this.updateTransform();for(let t=this._cursor;t<this._displayables.length;t++){let e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(let t=0;t<this._temporaryDisplayables.length;t++){let e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},brush:function(t,e){let i=this._cursor;for(;i<this._displayables.length;i++){let e=this._displayables[i];e.beforeBrush&&e.beforeBrush(t),e.brush(t,i===this._cursor?null:this._displayables[i-1]),e.afterBrush&&e.afterBrush(t)}this._cursor=i;for(let e=0;e<this._temporaryDisplayables.length;e++){let i=this._temporaryDisplayables[e];i.beforeBrush&&i.beforeBrush(t),i.brush(t,0===e?null:this._temporaryDisplayables[e-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0},getBoundingRect:function(){if(!this._rect){let t=new ve(1/0,1/0,-1/0,-1/0);for(let e=0;e<this._displayables.length;e++){let i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform($s)),t.union(n)}this._rect=t}return this._rect},contain:function(t,e){let i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(let i=0;i<this._displayables.length;i++){let n=this._displayables[i];if(n.contain(t,e))return!0}return!1}},l(Wn,mi);var Ks=yn.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){let i=e.cx,n=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,h=Math.cos(o),l=Math.sin(o);t.moveTo(h*r+i,l*r+n),t.arc(i,n,r,o,a,!s)}});let Js=[];var th=yn.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){let i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,h=e.cpx2,l=e.cpy2,u=e.percent;0!==u&&(t.moveTo(i,n),null==h||null==l?(u<1&&($i(i,a,r,u,Js),a=Js[1],r=Js[2],$i(n,s,o,u,Js),s=Js[1],o=Js[2]),t.quadraticCurveTo(a,s,r,o)):(u<1&&(ji(i,a,h,r,u,Js),a=Js[1],h=Js[2],r=Js[3],ji(n,s,l,o,u,Js),s=Js[1],l=Js[2],o=Js[3]),t.bezierCurveTo(a,s,h,l,r,o)))},pointAt:function(t){return Vn(this.shape,t,!1)},tangentAt:function(t){let e=Vn(this.shape,t,!0);return ct(e,e)}}),eh=yn.extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){let i=e.cx,n=e.cy,r=e.width,o=e.height;t.moveTo(i,n+r),t.bezierCurveTo(i+r,n+r,i+3*r/2,n-r/3,i,n-o),t.bezierCurveTo(i-3*r/2,n-r/3,i-r,n+r,i,n+r),t.closePath()}}),ih=yn.extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){let i=e.cx,n=e.cy,r=e.width,o=e.height;t.moveTo(i,n),t.bezierCurveTo(i+r/2,n-2*o/3,i+2*r,n+o/3,i,n+o),t.bezierCurveTo(i-2*r,n+o/3,i-r/2,n-2*o/3,i,n)}});let nh=Math.PI,rh=Math.sin,oh=Math.cos;var ah=yn.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(t,e){let i=e.n;if(i&&!(i<2)){let n=e.x,r=e.y,o=e.r,a=2*nh/i,s=-nh/2;t.moveTo(n+o*oh(s),r+o*rh(s));for(let e=0,h=i-1;e<h;e++)s+=a,t.lineTo(n+o*oh(s),r+o*rh(s));t.closePath()}}}),sh=yn.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){let i=e.cx,n=e.cy,r=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,r,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,r,!0)}});let hh=Math.sin,lh=Math.cos,uh=Math.PI/180;var ch=yn.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){let i,n,r,o=e.r,a=e.k,s=e.n,h=e.cx,l=e.cy;t.moveTo(h,l);for(let e=0,u=o.length;e<u;e++){r=o[e];for(let e=0;e<=360*s;e++)i=r*hh(a/s*e%360*uh)*lh(e*uh)+h,n=r*hh(a/s*e%360*uh)*hh(e*uh)+l,t.lineTo(i,n)}}}),fh=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],dh=yn.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:function(t){return Mr.browser.ie&&Mr.browser.version>=11?function(){var e,i=this.__clipPaths,n=this.style;if(i)for(var r=0;r<i.length;r++){var o=i[r],a=o&&o.shape,s=o&&o.type;if(a&&("sector"===s&&a.startAngle===a.endAngle||"rect"===s&&(!a.width||!a.height))){for(h=0;h<fh.length;h++)fh[h][2]=n[fh[h][0]],n[fh[h][0]]=fh[h][1];e=!0;break}}if(t.apply(this,arguments),e)for(var h=0;h<fh.length;h++)n[fh[h][0]]=fh[h][2]}:t}(yn.prototype.brush),buildPath:function(t,e){let i=e.cx,n=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,h=e.clockwise,l=Math.cos(a),u=Math.sin(a);t.moveTo(l*r+i,u*r+n),t.lineTo(l*o+i,u*o+n),t.arc(i,n,o,a,s,!h),t.lineTo(Math.cos(s)*r+i,Math.sin(s)*r+n),0!==r&&t.arc(i,n,r,s,a,h),t.closePath()}});let ph=Math.PI,gh=Math.cos,_h=Math.sin;var mh=yn.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(t,e){let i=e.n;if(i&&!(i<2)){let n=e.cx,r=e.cy,o=e.r,a=e.r0;null==a&&(a=i>4?o*gh(2*ph/i)/gh(ph/i):o/3);let s=ph/i,h=-ph/2,l=n+o*gh(h),u=r+o*_h(h);h+=s,t.moveTo(l,u);for(let e,l=0,u=2*i-1;l<u;l++)e=l%2==0?a:o,t.lineTo(n+e*gh(h),r+e*_h(h)),h+=s;t.closePath()}}});let yh=Math.cos,vh=Math.sin;var xh=yn.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(t,e){let i,n,r,o,a=e.r,s=e.r0,h=e.d,l=e.cx,u=e.cy,c="out"===e.location?1:-1;if(!(e.location&&a<=s)){let e,f=0,d=1;i=(a+c*s)*yh(0)-c*h*yh(0)+l,n=(a+c*s)*vh(0)-h*vh(0)+u,t.moveTo(i,n);do{f++}while(s*f%(a+c*s)!=0);do{e=Math.PI/180*d,r=(a+c*s)*yh(e)-c*h*yh((a/s+c)*e)+l,o=(a+c*s)*vh(e)-h*vh((a/s+c)*e)+u,t.lineTo(r,o),d++}while(d<=s*f/(a+c*s)*360)}}});let wh=function(t,e,i,n,r){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=r||!1,Ws.call(this,n)};wh.prototype={constructor:wh},l(wh,Ws);var bh="http://www.w3.org/2000/svg";let kh=ns.CMD,Th=Array.prototype.join,Sh="none",Mh=Math.round,Ch=Math.sin,Ph=Math.cos,Ah=Math.PI,Lh=2*Math.PI,zh=180/Ah,Bh=1e-4,Dh={};Dh.brush=function(t){let e=t.style,i=t.__svgEl;i||(i=Xn("path"),t.__svgEl=i),t.path||t.createPathProxy();let n=t.path;if(t.__dirtyPath){n.beginPath(),n.subPixelOptimize=!1,t.buildPath(n,t.shape),t.__dirtyPath=!1;let e=Kn(n);e.indexOf("NaN")<0&&Zn(i,"d",e)}$n(i,e,!1,t),Gn(i,t.transform),null!=e.text?Nh(t,t.getBoundingRect()):ir(t)};let Eh={};Eh.brush=function(t){let e=t.style,i=e.image;if(i instanceof HTMLImageElement){let t=i.src;i=t}if(i){let n=e.x||0,r=e.y||0,o=e.width,a=e.height,s=t.__svgEl;s||(s=Xn("image"),t.__svgEl=s),i!==t.__imageSrc&&(Qn(s,"href",i),t.__imageSrc=i),Zn(s,"width",o),Zn(s,"height",a),Zn(s,"x",n),Zn(s,"y",r),Gn(s,t.transform),null!=e.text?Nh(t,t.getBoundingRect()):ir(t)}};let Ih={},Oh=new ve,Fh={},Rh=[],Hh={left:"start",right:"end",center:"middle",middle:"middle"},Nh=function(t,e){let i=t.style,n=t.transform,r=t instanceof As||i.transformText;t.__dirty&&Je(i);let o=i.text;if(null!=o&&(o+=""),_i(o,i)){null==o&&(o=""),!r&&n&&(Oh.copy(e),Oh.applyTransform(n),e=Oh);let a=t.__textSvgEl;a||(a=Xn("text"),t.__textSvgEl=a);let s=a.style,h=i.font||ra,l=a.__computedFont;h!==a.__styleFont&&(s.font=a.__styleFont=h,l=a.__computedFont=s.font);let u=i.textPadding,c=i.textLineHeight,f=t.__textCotentBlock;f&&!t.__dirtyText||(f=t.__textCotentBlock=Ge(o,l,u,c,i.truncate));let d=f.outerHeight,p=f.lineHeight;ui(Fh,t,i,e);let g=Fh.baseX,_=Fh.baseY,m=Fh.textAlign||"left",y=Fh.textVerticalAlign;Jn(a,r,n,i,e,g,_);let v=g,x=Ne(_,d,y);u&&(v=tr(g,m,u),x+=u[0]),x+=p/2,$n(a,i,!0,t);let w=f.canCacheByTextString,b=t.__tspanList||(t.__tspanList=[]),k=b.length;if(w&&t.__canCacheByTextString&&t.__text===o){if(t.__dirtyText&&k)for(let t=0;t<k;++t)er(b[t],m,v,x+t*p)}else{t.__text=o,t.__canCacheByTextString=w;let e=f.lines,i=e.length,n=0;for(;n<i;n++){let t=b[n],i=e[n];t?t.__zrText!==i&&(t.innerHTML="",t.appendChild(document.createTextNode(i))):(t=b[n]=Xn("tspan"),a.appendChild(t),t.appendChild(document.createTextNode(i))),er(t,m,v,x+n*p)}if(k>i){for(;n<k;n++)a.removeChild(b[n]);b.length=i}}}};Ih.drawRectText=Nh,Ih.brush=function(t){null!=t.style.text?Nh(t,!1):ir(t)},nr.prototype={diff:function(t,e,i){i||(i=function(t,e){return t===e}),this.equals=i;var n=this;t=t.slice();var r=(e=e.slice()).length,o=t.length,a=1,s=r+o,h=[{newPos:-1,components:[]}],l=this.extractCommon(h[0],e,t,0);if(h[0].newPos+1>=r&&l+1>=o){for(var u=[],c=0;c<e.length;c++)u.push(c);return[{indices:u,count:e.length}]}for(;a<=s;){var f=function(){for(var i=-1*a;i<=a;i+=2){var s,l=h[i-1],u=h[i+1],c=(u?u.newPos:0)-i;l&&(h[i-1]=void 0);var f=l&&l.newPos+1<r,d=u&&0<=c&&c<o;if(f||d){if(!f||d&&l.newPos<u.newPos?(s=or(u),n.pushComponent(s.components,void 0,!0)):((s=l).newPos++,n.pushComponent(s.components,!0,void 0)),c=n.extractCommon(s,e,t,i),s.newPos+1>=r&&c+1>=o)return rr(n,s.components,e,t);h[i]=s}else h[i]=void 0}a++}();if(f)return f}},pushComponent:function(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var r=e.length,o=i.length,a=t.newPos,s=a-n,h=0;a+1<r&&s+1<o&&this.equals(e[a+1],i[s+1]);)a++,s++,h++;return h&&t.components.push({count:h}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var Wh=new nr,Vh=function(t,e,i){return Wh.diff(t,e,i)};ar.prototype={constructor:ar,createElement:Xn,getDefs:function(t){let e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");return 0===i.length?t?((i=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(i.contains=function(t){let e=i.children;if(!e)return!1;for(let i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),i):null:i[0]},update:function(t,e){if(t){let i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{let e=this.add(t);e&&(t[this._domName]=e)}}},addDom:function(t){this.getDefs(!0).appendChild(t)},removeDom:function(t){let e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},getDoms:function(){let t=this.getDefs(!1);if(!t)return[];let e=[];return f(this._tagNames,function(i){let n=t.getElementsByTagName(i);e=e.concat([].slice.call(n))}),e},markAllUnused:function(){let t=this;f(this.getDoms(),function(e){e[t._markLabel]="0"})},markUsed:function(t){t&&(t[this._markLabel]="1")},removeUnused:function(){let t=this.getDefs(!1);if(t){let e=this;f(this.getDoms(),function(i){"1"!==i[e._markLabel]&&t.removeChild(i)})}},getSvgProxy:function(t){return t instanceof yn?Dh:t instanceof yi?Eh:t instanceof As?Ih:Dh},getTextSvgElement:function(t){return t.__textSvgEl},getSvgElement:function(t){return t.__svgEl}},sr.prototype={constructor:sr,addWithoutUpdate:function(t,e){if(e&&e.style){var i=this;f(["fill","stroke"],function(n){if(e.style[n]&&("linear"===e.style[n].type||"radial"===e.style[n].type)){var r,o=e.style[n],a=i.getDefs(!0);o._dom?(r=o._dom,a.contains(o._dom)||i.addDom(r)):r=i.add(o),i.markUsed(e);var s=r.getAttribute("id");t.setAttribute(n,"url(#"+s+")")}})}},add:function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return console.log("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},update:function(t){var e=this;ar.prototype.update.call(this,t,function(){var i=t.type,n=t._dom.tagName;"linear"===i&&"linearGradient"===n||"radial"===i&&"radialGradient"===n?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},updateDom:function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void console.log("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,n=0,r=i.length;n<r;++n){var o=this.createElement("stop");o.setAttribute("offset",100*i[n].offset+"%");var a=i[n].color;if(a.indexOf(!1)){var s=ae(a)[3],h=ue(a);o.setAttribute("stop-color","#"+h),o.setAttribute("stop-opacity",s)}else o.setAttribute("stop-color",i[n].color);e.appendChild(o)}t._dom=e},markUsed:function(t){if(t.style){var e=t.style.fill;e&&e._dom&&ar.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&ar.prototype.markUsed.call(this,e._dom)}}},l(sr,ar),hr.prototype={constructor:hr,update:function(t){let e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);let i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},updateDom:function(t,e,i){if(e&&e.length>0){let n,r,o=this.getDefs(!0),a=e[0],s=i?"_textDom":"_dom";a[s]?(r=a[s].getAttribute("id"),n=a[s],o.contains(n)||o.appendChild(n)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(n=this.createElement("clipPath")).setAttribute("id",r),o.appendChild(n),a[s]=n);let h=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!i){let t=Array.prototype.slice.call(a.transform);Xt(a.transform,a.parent.invTransform,a.transform),h.brush(a),a.transform=t}else h.brush(a);let l=this.getSvgElement(a);n.innerHTML="",n.appendChild(l.cloneNode()),t.setAttribute("clip-path","url(#"+r+")"),e.length>1&&this.updateDom(n,e.slice(1),i)}else t&&t.setAttribute("clip-path","none")},markUsed:function(t){let e=this;t.__clipPaths&&f(t.__clipPaths,function(t){t._dom&&ar.prototype.markUsed.call(e,t._dom),t._textDom&&ar.prototype.markUsed.call(e,t._textDom)})}},l(hr,ar),lr.prototype={constructor:lr,addWithoutUpdate:function(t,e){if(e&&ur(e.style)){let i;if(e._shadowDom){i=e._shadowDom;let t=this.getDefs(!0);t.contains(e._shadowDom)||this.addDom(i)}else i=this.add(e);this.markUsed(e);let n=i.getAttribute("id");t.style.filter="url(#"+n+")"}},add:function(t){let e=this.createElement("filter");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},update:function(t,e){if(ur(e.style)){let t=this;ar.prototype.update.call(this,e,function(){t.updateDom(e,e._shadowDom)})}else this.remove(t,e)},remove:function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter="")},updateDom:function(t,e){let i=e.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];let n,r,o,a,s=t.style,h=t.scale?t.scale[0]||1:1,l=t.scale?t.scale[1]||1:1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,r=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,r=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}i.setAttribute("dx",n/h),i.setAttribute("dy",r/l),i.setAttribute("flood-color",a);let u=o/2/h+" "+o/2/l;i.setAttribute("stdDeviation",u),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(i),t._shadowDom=e},markUsed:function(t){t._shadowDom&&ar.prototype.markUsed.call(this,t._shadowDom)}},l(lr,ar);let Xh=function(t,e,i,n){this.root=t,this.storage=e,this._opts=i=o({},i||{});let r=Xn("svg");r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new sr(n,r),this.clipPathManager=new hr(n,r),this.shadowManager=new lr(n,r);let a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=r,this._viewport=a,t.appendChild(a),a.appendChild(r),this.resize(i.width,i.height),this._visibleList=[]};Xh.prototype={constructor:Xh,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){let t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){let t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();let e,i,n,r=this._svgRoot,o=this._visibleList,a=t.length,s=[];for(e=0;e<a;e++){let n=t[e],r=cr(n);i=mr(n)||_r(n),n.invisible||(n.__dirty&&(r&&r.brush(n),this.clipPathManager.update(n),n.style&&(this.gradientManager.update(n.style.fill),this.gradientManager.update(n.style.stroke),this.shadowManager.update(i,n)),n.__dirty=!1),s.push(n))}let h,l=Vh(o,s);for(e=0;e<l.length;e++){let t=l[e];if(t.removed)for(let e=0;e<t.count;e++){let a=o[t.indices[e]];i=mr(a),n=_r(a),gr(r,i),gr(r,n)}}for(e=0;e<l.length;e++){let t=l[e];if(t.added)for(let e=0;e<t.count;e++){let o=s[t.indices[e]];i=mr(o),n=_r(o),h?dr(r,i,h):pr(r,i),i?dr(r,n,i):h?dr(r,n,h):pr(r,n),dr(r,n,i),h=n||i||h,this.gradientManager.addWithoutUpdate(i||n,o),this.shadowManager.addWithoutUpdate(i||n,o),this.clipPathManager.markUsed(o)}else if(!t.removed)for(let e=0;e<t.count;e++){let o=s[t.indices[e]];i=mr(o),n=_r(o),i=mr(o),n=_r(o),this.gradientManager.markUsed(o),this.gradientManager.addWithoutUpdate(i||n,o),this.shadowManager.markUsed(o),this.shadowManager.addWithoutUpdate(i||n,o),this.clipPathManager.markUsed(o),n&&dr(r,n,i),h=i||n||h}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=s},_getDefs:function(t){let e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");if(0===i.length){if(t){let t=e.insertBefore(Xn("defs"),e.firstChild);return t.contains||(t.contains=function(e){let i=t.children;if(!i)return!1;for(let t=i.length-1;t>=0;--t)if(i[t]===e)return!0;return!1}),t}return null}return i[0]},resize:function(t,e){let i=this._viewport;i.style.display="none";let n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;let n=i.style;n.width=t+"px",n.height=e+"px";let r=this._svgRoot;r.setAttribute("width",t),r.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){let e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);let a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||$(s[i])||$(a.style[i]))-($(s[r])||0)-($(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"].forEach((t,e)=>{Xh.prototype[t]=yr(t)}),Ri("svg",Xh);let qh,jh="urn:schemas-microsoft-com:vml",Yh="undefined"==typeof window?null:window,Uh=!1,Gh=Yh&&Yh.document;if(Gh&&!Mr.canvasSupported)try{!Gh.namespaces.zrvml&&Gh.namespaces.add("zrvml",jh),qh=function(t){return Gh.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){qh=function(t){return Gh.createElement("<"+t+' xmlns="'+jh+'" class="zrvml">')}}let Zh=ns.CMD,Qh=Math.round,$h=Math.sqrt,Kh=Math.abs,Jh=Math.cos,tl=Math.sin,el=Math.max;if(!Mr.canvasSupported){let t="progid:DXImageTransform.Microsoft",e=21600,i=e/2,n=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=e+","+e,t.coordorigin="0,0"},r=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},o=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},a=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},s=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},h=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},l=pi,u=function(t,e,i){let n=ae(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=o(n[0],n[1],n[2]),t.opacity=i*n[3])},c=function(t){let e=ae(t);return[o(e[0],e[1],e[2]),e[3]]},f=function(t,i,n){let r=i.fill;if(null!=r)if(r instanceof Ws){let o,a=0,s=[0,0],h=0,l=1,u=n.getBoundingRect(),f=u.width,d=u.height;if("linear"===r.type){o="gradient";let t=n.transform,e=[r.x*f,r.y*d],i=[r.x2*f,r.y2*d];t&&(_t(e,e,t),_t(i,i,t));let s=i[0]-e[0],h=i[1]-e[1];(a=180*Math.atan2(s,h)/Math.PI)<0&&(a+=360),a<1e-6&&(a=0)}else{o="gradientradial";let t=[r.x*f,r.y*d],i=n.transform,a=n.scale,c=f,p=d;s=[(t[0]-u.x)/c,(t[1]-u.y)/p],i&&_t(t,t,i),c/=a[0]*e,p/=a[1]*e;let g=el(c,p);h=0/g,l=2*r.r/g-h}let p=r.colorStops.slice();p.sort(function(t,e){return t.offset-e.offset});let g=p.length,_=[],m=[];for(let t=0;t<g;t++){let e=p[t],i=c(e.color);m.push(e.offset*l+h+" "+i[0]),0!==t&&t!==g-1||_.push(i)}if(g>=2){let e=_[0][0],n=_[1][0],r=_[0][1]*i.opacity,s=_[1][1]*i.opacity;t.type=o,t.method="none",t.focus="100%",t.angle=a,t.color=e,t.color2=n,t.colors=m.join(","),t.opacity=s,t.opacity2=r}"radial"===o&&(t.focusposition=s.join(","))}else u(t,r,i.opacity)},d=function(t,e){e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof Ws||u(t,e.stroke,e.opacity)},p=function(t,e,i,n){let r="fill"===e,o=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(r||!r&&i.lineWidth)?(t[r?"filled":"stroked"]="true",i[e]instanceof Ws&&s(t,o),o||(o=xr(e)),r?f(o,i,n):d(o,i),a(t,o)):(t[r?"filled":"stroked"]="false",s(t,o))},g=[[],[],[]],_=function(t,n){let r,o,a,s,h,l,u,c,f,d,p,_,m,y,v,x,w,b,k,T,S,M,C=Zh.M,P=Zh.C,A=Zh.L,L=Zh.A,z=Zh.Q,B=[],D=t.data,E=t.len();for(s=0;s<E;){switch(a=D[s++],o="",r=0,a){case C:o=" m ",r=1,h=D[s++],l=D[s++],g[0][0]=h,g[0][1]=l;break;case A:o=" l ",r=1,h=D[s++],l=D[s++],g[0][0]=h,g[0][1]=l;break;case z:case P:o=" c ",r=3,p=D[s++],_=D[s++],m=D[s++],y=D[s++],a===z?(v=m,x=y,m=(m+2*p)/3,y=(y+2*_)/3,p=(h+2*p)/3,_=(l+2*_)/3):(v=D[s++],x=D[s++]),g[0][0]=p,g[0][1]=_,g[1][0]=m,g[1][1]=y,g[2][0]=v,g[2][1]=x,h=v,l=x;break;case L:u=0,c=0,k=1,T=1;let t=0;n&&(u=n[4],c=n[5],k=$h(n[0]*n[0]+n[1]*n[1]),T=$h(n[2]*n[2]+n[3]*n[3]),t=Math.atan2(-n[1]/T,n[0]/k)),w=D[s++],b=D[s++],S=D[s++],M=D[s++];let E=D[s++]+t,I=D[s++]+E+t;s++;let O=D[s++];f=w+Jh(E)*S,d=b+tl(E)*M,p=w+Jh(I)*S,_=b+tl(I)*M;let F=O?" wa ":" at ";Math.abs(f-p)<1e-4&&(Math.abs(I-E)>.01?O&&(f+=.0125):Math.abs(d-b)<1e-4?O&&f<w||!O&&f>w?_-=.0125:_+=.0125:O&&d<b||!O&&d>b?p+=.0125:p-=.0125),B.push(F,Qh(((w-S)*k+u)*e-i),",",Qh(((b-M)*T+c)*e-i),",",Qh(((w+S)*k+u)*e-i),",",Qh(((b+M)*T+c)*e-i),",",Qh((f*k+u)*e-i),",",Qh((d*T+c)*e-i),",",Qh((p*k+u)*e-i),",",Qh((_*T+c)*e-i)),h=p,l=_;break;case Zh.R:let R=g[0],H=g[1];R[0]=D[s++],R[1]=D[s++],H[0]=R[0]+D[s++],H[1]=R[1]+D[s++],n&&(_t(R,R,n),_t(H,H,n)),R[0]=Qh(R[0]*e-i),H[0]=Qh(H[0]*e-i),R[1]=Qh(R[1]*e-i),H[1]=Qh(H[1]*e-i),B.push(" m ",R[0],",",R[1]," l ",H[0],",",R[1]," l ",H[0],",",H[1]," l ",R[0],",",H[1]);break;case Zh.Z:B.push(" x ")}if(r>0){B.push(o);for(let t=0;t<r;t++){let o=g[t];n&&_t(o,o,n),B.push(Qh(o[0]*e-i),",",Qh(o[1]*e-i),t<r-1?",":"")}}}return B.join("")};yn.prototype.brushVML=function(t){let e=this.style,i=this._vmlEl;i||(i=xr("shape"),n(i),this._vmlEl=i),p(i,"fill",e,this),p(i,"stroke",e,this);let r=this.transform,o=null!=r,s=i.getElementsByTagName("stroke")[0];if(s){let t=e.lineWidth;if(o&&!e.strokeNoScale){let e=r[0]*r[3]-r[1]*r[2];t*=$h(Kh(e))}s.weight=t+"px"}let l=this.path||(this.path=new ns);this.__dirtyPath&&(l.beginPath(),l.subPixelOptimize=!1,this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=_(l,this.transform),i.style.zIndex=h(this.zlevel,this.z,this.z2),a(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},yn.prototype.onRemove=function(t){s(t,this._vmlEl),this.removeRectText(t)},yn.prototype.onAdd=function(t){a(t,this._vmlEl),this.appendRectText(t)};let m=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};yi.prototype.brushVML=function(e){let i,r,o=this.style,s=o.image;if(m(s)){let t=s.src;if(t===this._imageSrc)i=this._imageWidth,r=this._imageHeight;else{let e=s.runtimeStyle,n=e.width,o=e.height;e.width="auto",e.height="auto",i=s.width,r=s.height,e.width=n,e.height=o,this._imageSrc=t,this._imageWidth=i,this._imageHeight=r}s=t}else s===this._imageSrc&&(i=this._imageWidth,r=this._imageHeight);if(s){let l=o.x||0,u=o.y||0,c=o.width,f=o.height,d=o.sWidth,p=o.sHeight,g=o.sx||0,_=o.sy||0,m=d&&p,y=this._vmlEl;y||(y=Gh.createElement("div"),n(y),this._vmlEl=y);let v,x=y.style,w=!1,b=1,k=1;if(this.transform&&(v=this.transform,b=$h(v[0]*v[0]+v[1]*v[1]),k=$h(v[2]*v[2]+v[3]*v[3]),w=v[1]||v[2]),w){let e=[l,u],i=[l+c,u],n=[l,u+f],r=[l+c,u+f];_t(e,e,v),_t(i,i,v),_t(n,n,v),_t(r,r,v);let o=el(e[0],i[0],n[0],r[0]),a=el(e[1],i[1],n[1],r[1]),s=[];s.push("M11=",v[0]/b,",","M12=",v[2]/k,",","M21=",v[1]/b,",","M22=",v[3]/k,",","Dx=",Qh(l*b+v[4]),",","Dy=",Qh(u*k+v[5])),x.padding="0 "+Qh(o)+"px "+Qh(a)+"px 0",x.filter=t+".Matrix("+s.join("")+", SizingMethod=clip)"}else v&&(l=l*b+v[4],u=u*k+v[5]),x.filter="",x.left=Qh(l)+"px",x.top=Qh(u)+"px";let T=this._imageEl,S=this._cropEl;T||(T=Gh.createElement("div"),this._imageEl=T);let M=T.style;if(m){if(i&&r)M.width=Qh(b*i*c/d)+"px",M.height=Qh(k*r*f/p)+"px";else{let t=new Image,e=this;t.onload=function(){t.onload=null,i=t.width,r=t.height,M.width=Qh(b*i*c/d)+"px",M.height=Qh(k*r*f/p)+"px",e._imageWidth=i,e._imageHeight=r,e._imageSrc=s},t.src=s}S||((S=Gh.createElement("div")).style.overflow="hidden",this._cropEl=S);let e=S.style;e.width=Qh((c+g*c/d)*b),e.height=Qh((f+_*f/p)*k),e.filter=t+".Matrix(Dx="+-g*c/d*b+",Dy="+-_*f/p*k+")",S.parentNode||y.appendChild(S),T.parentNode!==S&&S.appendChild(T)}else M.width=Qh(b*c)+"px",M.height=Qh(k*f)+"px",y.appendChild(T),S&&S.parentNode&&(y.removeChild(S),this._cropEl=null);let C="",P=o.opacity;P<1&&(C+=".Alpha(opacity="+Qh(100*P)+") "),C+=t+".AlphaImageLoader(src="+s+", SizingMethod=scale)",M.filter=C,y.style.zIndex=h(this.zlevel,this.z,this.z2),a(e,y),null!=o.text&&this.drawRectText(e,this.getBoundingRect())}},yi.prototype.onRemove=function(t){s(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},yi.prototype.onAdd=function(t){a(t,this._vmlEl),this.appendRectText(t)};let y,v={},x=0,w=document.createElement("div"),b=function(t){let e=v[t];if(!e){x>100&&(x=0,v={});let i,n=w.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(t){}e={style:n.fontStyle||"normal",variant:n.fontVariant||"normal",weight:n.fontWeight||"normal",size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},v[t]=e,x++}return e};!function(t,e){oa[t]=e}("measureText",function(t,e){let i=Gh;y||((y=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Gh.body.appendChild(y));try{y.style.font=e}catch(t){}return y.innerHTML="",y.appendChild(i.createTextNode(t)),{width:y.offsetWidth}});let k=new ve,T=function(t,e,i,o){let s=this.style;this.__dirty&&Je(s);let u=s.text;if(null!=u&&(u+=""),u){if(s.rich){let t=Ze(u,s);u=[];for(let e=0;e<t.lines.length;e++){let i=t.lines[e].tokens,n=[];for(let t=0;t<i.length;t++)n.push(i[t].text);u.push(n.join(""))}u=u.join("\n")}let c,f,d=s.textAlign,g=s.textVerticalAlign,_=b(s.font),m=_.style+" "+_.variant+" "+_.weight+" "+_.size+'px "'+_.family+'"';i=i||Oe(u,m,d,g,s.textPadding,s.textLineHeight);let y=this.transform;if(y&&!o&&(k.copy(e),k.applyTransform(y),e=k),o)c=e.x,f=e.y;else{let t=s.textPosition;if(t instanceof Array)c=e.x+l(t[0],e.width),f=e.y+l(t[1],e.height),d=d||"left";else{let t=this.calculateTextPosition?this.calculateTextPosition({},s,e):We({},s,e);c=t.x,f=t.y,d=d||t.textAlign,g=g||t.textVerticalAlign}}c=He(c,i.width,d),f=Ne(f,i.height,g),f+=i.height/2;let v,x,w,T=xr,S=this._textVmlEl;S?x=(v=(w=S.firstChild).nextSibling).nextSibling:(S=T("line"),v=T("path"),x=T("textpath"),w=T("skew"),x.style["v-text-align"]="left",n(S),v.textpathok=!0,x.on=!0,S.from="0 0",S.to="1000 0.05",a(S,w),a(S,v),a(S,x),this._textVmlEl=S);let M=[c,f],C=S.style;y&&o?(_t(M,M,y),w.on=!0,w.matrix=y[0].toFixed(3)+","+y[2].toFixed(3)+","+y[1].toFixed(3)+","+y[3].toFixed(3)+",0,0",w.offset=(Qh(M[0])||0)+","+(Qh(M[1])||0),w.origin="0 0",C.left="0px",C.top="0px"):(w.on=!1,C.left=Qh(c)+"px",C.top=Qh(f)+"px"),x.string=r(u);try{x.style.font=m}catch(t){}p(S,"fill",{fill:s.textFill,opacity:s.opacity},this),p(S,"stroke",{stroke:s.textStroke,opacity:s.opacity,lineDash:s.lineDash||null},this),S.style.zIndex=h(this.zlevel,this.z,this.z2),a(t,S)}},S=function(t){s(t,this._textVmlEl),this._textVmlEl=null},M=function(t){a(t,this._textVmlEl)},C=[da,mi,yi,yn,As];for(let t=0;t<C.length;t++){let e=C[t].prototype;e.drawRectText=T,e.removeRectText=S,e.appendRectText=M}As.prototype.brushVML=function(t){let e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},As.prototype.onRemove=function(t){this.removeRectText(t)},As.prototype.onAdd=function(t){this.appendRectText(t)}}wr.prototype={constructor:wr,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){let t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){let t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){let e=this._vmlRoot;for(let i=0;i<t.length;i++){let n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){if(t=null==t?this._getWidth():t,e=null==e?this._getHeight():e,this._width!==t||this._height!==e){this._width=t,this._height=e;let i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){let t=this.root,e=t.currentStyle;return(t.clientWidth||$(e.width))-$(e.paddingLeft)-$(e.paddingRight)|0},_getHeight:function(){let t=this.root,e=t.currentStyle;return(t.clientHeight||$(e.height))-$(e.paddingTop)-$(e.paddingBottom)|0}},["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"].forEach((t,e)=>{wr.prototype[t]=br(t)}),Ri("vml",wr),t.version="4.1.2",t.init=Ii,t.dispose=Oi,t.getInstance=Fi,t.registerPainter=Ri,t.matrix=ho,t.vector=Yr,t.color=Ao,t.path=Ps,t.util=Nr,t.parseSVG=Nn,t.Group=Fo,t.Path=yn,t.Image=yi,t.CompoundPath=Qs,t.Text=As,t.IncrementalDisplayable=Wn,t.Arc=Ks,t.BezierCurve=th,t.Circle=Ls,t.Droplet=eh,t.Ellipse=Es,t.Heart=ih,t.Isogon=ah,t.Line=Os,t.Polygon=Hs,t.Polyline=Ns,t.Rect=Ds,t.Ring=sh,t.Rose=ch,t.Sector=dh,t.Star=mh,t.Trochoid=xh,t.LinearGradient=Vs,t.RadialGradient=wh,t.Pattern=$o,t.BoundingRect=ve});
